@use "../../../scss/config" as *;
@use "../../../scss/colors" as *;
@use "../../../scss/functions" as *;
@use "../../../scss/mixins" as *;
@use "../../../scss/variables" as *;
@use "../../../scss/layout/breakpoints" as *;

:root {
  --bs-font-sans-serif: "Geist", sans-serif;
  --bs-font-monospace: "Geist Mono", monospace;
}

@layer custom {
  .bd-sticky-navbar.is-stuck {
    box-shadow: 0 .125rem .5rem rgba($black, .05);
  }

  .bd-navbar {
    --bs-border-color: color-mix(in oklch, var(--bs-fg-body) 12%, transparent);
    padding: .75rem 0;
    margin-bottom: -1px;
    background-clip: padding-box;

    .bd-navbar-toggle {
      @include media-breakpoint-down(lg) {
        width: 4.25rem;
      }
    }

    .navbar-toggler {
      padding: 0;
      margin-inline-end: -.5rem;
      border: 0;

      &:first-child {
        margin-inline-start: -.5rem;
      }

      .bi {
        width: 1.5rem;
        height: 1.5rem;
      }

      &:focus {
        box-shadow: none;
      }
    }

    .navbar-brand {
      // color: $white;
      @include transition(transform .2s ease-in-out);

      &:hover {
        transform: rotate(-5deg) scale(1.1);
      }
    }

    .navbar-toggler,
    .nav-link {
      padding-inline: $spacer * .25;
      // color: rgba($white, .85);

      // &:hover,
      // &:focus {
      //   color: $white;
      // }

      &.active {
        font-weight: 600;
        // color: $white;
      }
    }

    .navbar-nav-svg {
      display: inline-block;
      vertical-align: -.125rem;
    }

    .offcanvas-lg {
      background-color: var(--bd-violet-bg);
      border-inline-start: 0;

      @include media-breakpoint-down(lg) {
        box-shadow: var(--box-shadow-lg);
      }
    }

    .dropdown-toggle {
      &:focus:not(:focus-visible) {
        outline: 0;
      }
    }

    .dropdown-menu {
      --bs-dropdown-min-width: 12rem;
      --bs-dropdown-padding-x: .25rem;
      --bs-dropdown-padding-y: .25rem;
      --bs-dropdown-link-hover-bg: color-mix(in srgb, var(--bd-violet), transparent 90%);
      --bs-dropdown-link-active-bg: var(--bd-violet);
      // @include rfs(.875rem, --bs-dropdown-font-size);
      // @include font-size(.875rem);
      // @include border-radius(.5rem);
      box-shadow: var(--dropdown-box-shadow);

      li + li {
        margin-top: .125rem;
      }

      .dropdown-item {
        @include border-radius(.25rem);

        &:active {
          .bi {
            color: inherit !important; // stylelint-disable-line declaration-no-important
          }
        }
      }

      .active {
        font-weight: 600;

        .bi {
          display: block !important; // stylelint-disable-line declaration-no-important
        }
      }
    }

    .dropdown-menu-end {
      --bs-dropdown-min-width: 8rem;
    }
  }

  @include color-mode(dark) {
    .bd-navbar {
      box-shadow: 0 .5rem 1rem rgba($black, .15), inset 0 -1px 0 rgba($white, .15);
    }
  }
}
