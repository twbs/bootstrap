{"version":3,"file":"popover.js","sources":["../src/popover.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap popover.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport Tooltip from './tooltip.js'\nimport EventHandler from './dom/event-handler.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'popover'\n\nconst SELECTOR_TITLE = '.popover-header'\nconst SELECTOR_CONTENT = '.popover-body'\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"popover\"]'\n\nconst EVENT_CLICK = 'click'\nconst EVENT_FOCUSIN = 'focusin'\nconst EVENT_MOUSEENTER = 'mouseenter'\n\nconst Default = {\n  ...Tooltip.Default,\n  content: '',\n  offset: [0, 8],\n  placement: 'right',\n  template: '<div class=\"popover\" role=\"tooltip\">' +\n    '<div class=\"popover-arrow\"></div>' +\n    '<h3 class=\"popover-header\"></h3>' +\n    '<div class=\"popover-body\"></div>' +\n    '</div>',\n  trigger: 'click'\n}\n\nconst DefaultType = {\n  ...Tooltip.DefaultType,\n  content: '(null|string|element|function)'\n}\n\n/**\n * Class definition\n */\n\nclass Popover extends Tooltip {\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Overrides\n  _isWithContent() {\n    return this._getTitle() || this._getContent()\n  }\n\n  // Private\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TITLE]: this._getTitle(),\n      [SELECTOR_CONTENT]: this._getContent()\n    }\n  }\n\n  _getContent() {\n    return this._resolvePossibleFunction(this._config.content)\n  }\n}\n\n/**\n * Data API implementation - auto-initialize popovers\n */\n\nconst initPopover = event => {\n  const target = event.target.closest(SELECTOR_DATA_TOGGLE)\n  if (!target) {\n    return\n  }\n\n  // Prevent default for click events to avoid navigation\n  if (event.type === 'click') {\n    event.preventDefault()\n  }\n\n  // Get or create instance\n  const popover = Popover.getOrCreateInstance(target)\n\n  // Trigger the appropriate action based on event type\n  if (event.type === 'click') {\n    popover.toggle()\n  } else if (event.type === 'focusin') {\n    popover._activeTrigger.focus = true\n    popover._enter()\n  }\n}\n\n// Support click (default), hover, and focus triggers\nEventHandler.on(document, EVENT_CLICK, SELECTOR_DATA_TOGGLE, initPopover)\nEventHandler.on(document, EVENT_FOCUSIN, SELECTOR_DATA_TOGGLE, initPopover)\nEventHandler.on(document, EVENT_MOUSEENTER, SELECTOR_DATA_TOGGLE, initPopover)\n\nexport default Popover\n"],"names":["NAME","SELECTOR_TITLE","SELECTOR_CONTENT","SELECTOR_DATA_TOGGLE","EVENT_CLICK","EVENT_FOCUSIN","EVENT_MOUSEENTER","Default","Tooltip","content","offset","placement","template","trigger","DefaultType","Popover","_isWithContent","_getTitle","_getContent","_getContentForTemplate","_resolvePossibleFunction","_config","initPopover","event","target","closest","type","preventDefault","popover","getOrCreateInstance","toggle","_activeTrigger","focus","_enter","EventHandler","on","document"],"mappings":";;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;;;EAKA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,SAAS;EAEtB,MAAMC,cAAc,GAAG,iBAAiB;EACxC,MAAMC,gBAAgB,GAAG,eAAe;EACxC,MAAMC,oBAAoB,GAAG,4BAA4B;EAEzD,MAAMC,WAAW,GAAG,OAAO;EAC3B,MAAMC,aAAa,GAAG,SAAS;EAC/B,MAAMC,gBAAgB,GAAG,YAAY;EAErC,MAAMC,OAAO,GAAG;IACd,GAAGC,OAAO,CAACD,OAAO;EAClBE,EAAAA,OAAO,EAAE,EAAE;EACXC,EAAAA,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;EACdC,EAAAA,SAAS,EAAE,OAAO;IAClBC,QAAQ,EAAE,sCAAsC,GAC9C,mCAAmC,GACnC,kCAAkC,GAClC,kCAAkC,GAClC,QAAQ;EACVC,EAAAA,OAAO,EAAE;EACX,CAAC;EAED,MAAMC,WAAW,GAAG;IAClB,GAAGN,OAAO,CAACM,WAAW;EACtBL,EAAAA,OAAO,EAAE;EACX,CAAC;;EAED;EACA;EACA;;EAEA,MAAMM,OAAO,SAASP,OAAO,CAAC;EAC5B;IACA,WAAWD,OAAOA,GAAG;EACnB,IAAA,OAAOA,OAAO;EAChB,EAAA;IAEA,WAAWO,WAAWA,GAAG;EACvB,IAAA,OAAOA,WAAW;EACpB,EAAA;IAEA,WAAWd,IAAIA,GAAG;EAChB,IAAA,OAAOA,IAAI;EACb,EAAA;;EAEA;EACAgB,EAAAA,cAAcA,GAAG;MACf,OAAO,IAAI,CAACC,SAAS,EAAE,IAAI,IAAI,CAACC,WAAW,EAAE;EAC/C,EAAA;;EAEA;EACAC,EAAAA,sBAAsBA,GAAG;MACvB,OAAO;EACL,MAAA,CAAClB,cAAc,GAAG,IAAI,CAACgB,SAAS,EAAE;EAClC,MAAA,CAACf,gBAAgB,GAAG,IAAI,CAACgB,WAAW;OACrC;EACH,EAAA;EAEAA,EAAAA,WAAWA,GAAG;MACZ,OAAO,IAAI,CAACE,wBAAwB,CAAC,IAAI,CAACC,OAAO,CAACZ,OAAO,CAAC;EAC5D,EAAA;EACF;;EAEA;EACA;EACA;;EAEA,MAAMa,WAAW,GAAGC,KAAK,IAAI;IAC3B,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAM,CAACC,OAAO,CAACtB,oBAAoB,CAAC;IACzD,IAAI,CAACqB,MAAM,EAAE;EACX,IAAA;EACF,EAAA;;EAEA;EACA,EAAA,IAAID,KAAK,CAACG,IAAI,KAAK,OAAO,EAAE;MAC1BH,KAAK,CAACI,cAAc,EAAE;EACxB,EAAA;;EAEA;EACA,EAAA,MAAMC,OAAO,GAAGb,OAAO,CAACc,mBAAmB,CAACL,MAAM,CAAC;;EAEnD;EACA,EAAA,IAAID,KAAK,CAACG,IAAI,KAAK,OAAO,EAAE;MAC1BE,OAAO,CAACE,MAAM,EAAE;EAClB,EAAA,CAAC,MAAM,IAAIP,KAAK,CAACG,IAAI,KAAK,SAAS,EAAE;EACnCE,IAAAA,OAAO,CAACG,cAAc,CAACC,KAAK,GAAG,IAAI;MACnCJ,OAAO,CAACK,MAAM,EAAE;EAClB,EAAA;EACF,CAAC;;EAED;EACAC,YAAY,CAACC,EAAE,CAACC,QAAQ,EAAEhC,WAAW,EAAED,oBAAoB,EAAEmB,WAAW,CAAC;EACzEY,YAAY,CAACC,EAAE,CAACC,QAAQ,EAAE/B,aAAa,EAAEF,oBAAoB,EAAEmB,WAAW,CAAC;EAC3EY,YAAY,CAACC,EAAE,CAACC,QAAQ,EAAE9B,gBAAgB,EAAEH,oBAAoB,EAAEmB,WAAW,CAAC;;;;;;;;"}