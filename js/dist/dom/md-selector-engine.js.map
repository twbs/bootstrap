{"version":3,"file":"md-selector-engine.js","sources":["../../src/dom/md-selector-engine.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.0.0-beta2): dom/selector-engine.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * --------------------------------------------------------------------------\n */\n\n/**\n * ------------------------------------------------------------------------\n * Constants\n * ------------------------------------------------------------------------\n */\n\nconst NODE_TEXT = 3;\n\nconst MdSelectorEngine = {\n  closest(element, selector) {\n    return element.closest(selector);\n  },\n\n  matches(element, selector) {\n    return element.matches(selector);\n  },\n\n  find(selector, element = document.documentElement) {\n    return [].concat(...Element.prototype.querySelectorAll.call(element, selector));\n  },\n\n  findOne(selector, element = document.documentElement) {\n    return Element.prototype.querySelector.call(element, selector);\n  },\n\n  children(element, selector) {\n    const children = [].concat(...element.children);\n\n    return children.filter((child) => child.matches(selector));\n  },\n\n  parents(element, selector) {\n    const parents = [];\n\n    let ancestor = element.parentNode;\n\n    while (ancestor && ancestor.nodeType === Node.ELEMENT_NODE && ancestor.nodeType !== NODE_TEXT) {\n      if (this.matches(ancestor, selector)) {\n        parents.push(ancestor);\n      }\n\n      ancestor = ancestor.parentNode;\n    }\n\n    return parents;\n  },\n\n  prev(element, selector) {\n    let previous = element.previousElementSibling;\n\n    while (previous) {\n      if (previous.matches(selector)) {\n        return [previous];\n      }\n\n      previous = previous.previousElementSibling;\n    }\n\n    return [];\n  },\n\n  next(element, selector) {\n    let next = element.nextElementSibling;\n\n    while (next) {\n      if (this.matches(next, selector)) {\n        return [next];\n      }\n\n      next = next.nextElementSibling;\n    }\n\n    return [];\n  },\n};\n\nexport default MdSelectorEngine;\n"],"names":["NODE_TEXT","MdSelectorEngine","closest","element","selector","matches","find","document","documentElement","concat","Element","prototype","querySelectorAll","call","findOne","querySelector","children","filter","child","parents","ancestor","parentNode","nodeType","Node","ELEMENT_NODE","push","prev","previous","previousElementSibling","next","nextElementSibling"],"mappings":";;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;;EAEA,MAAMA,SAAS,GAAG,CAAC,CAAA;AAEnB,QAAMC,gBAAgB,GAAG;EACvBC,EAAAA,OAAOA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EACzB,IAAA,OAAOD,OAAO,CAACD,OAAO,CAACE,QAAQ,CAAC,CAAA;KACjC;EAEDC,EAAAA,OAAOA,CAACF,OAAO,EAAEC,QAAQ,EAAE;EACzB,IAAA,OAAOD,OAAO,CAACE,OAAO,CAACD,QAAQ,CAAC,CAAA;KACjC;IAEDE,IAAIA,CAACF,QAAQ,EAAED,OAAO,GAAGI,QAAQ,CAACC,eAAe,EAAE;EACjD,IAAA,OAAO,EAAE,CAACC,MAAM,CAAC,GAAGC,OAAO,CAACC,SAAS,CAACC,gBAAgB,CAACC,IAAI,CAACV,OAAO,EAAEC,QAAQ,CAAC,CAAC,CAAA;KAChF;IAEDU,OAAOA,CAACV,QAAQ,EAAED,OAAO,GAAGI,QAAQ,CAACC,eAAe,EAAE;MACpD,OAAOE,OAAO,CAACC,SAAS,CAACI,aAAa,CAACF,IAAI,CAACV,OAAO,EAAEC,QAAQ,CAAC,CAAA;KAC/D;EAEDY,EAAAA,QAAQA,CAACb,OAAO,EAAEC,QAAQ,EAAE;MAC1B,MAAMY,QAAQ,GAAG,EAAE,CAACP,MAAM,CAAC,GAAGN,OAAO,CAACa,QAAQ,CAAC,CAAA;EAE/C,IAAA,OAAOA,QAAQ,CAACC,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACb,OAAO,CAACD,QAAQ,CAAC,CAAC,CAAA;KAC3D;EAEDe,EAAAA,OAAOA,CAAChB,OAAO,EAAEC,QAAQ,EAAE;MACzB,MAAMe,OAAO,GAAG,EAAE,CAAA;EAElB,IAAA,IAAIC,QAAQ,GAAGjB,OAAO,CAACkB,UAAU,CAAA;EAEjC,IAAA,OAAOD,QAAQ,IAAIA,QAAQ,CAACE,QAAQ,KAAKC,IAAI,CAACC,YAAY,IAAIJ,QAAQ,CAACE,QAAQ,KAAKtB,SAAS,EAAE;QAC7F,IAAI,IAAI,CAACK,OAAO,CAACe,QAAQ,EAAEhB,QAAQ,CAAC,EAAE;EACpCe,QAAAA,OAAO,CAACM,IAAI,CAACL,QAAQ,CAAC,CAAA;EACxB,OAAA;QAEAA,QAAQ,GAAGA,QAAQ,CAACC,UAAU,CAAA;EAChC,KAAA;EAEA,IAAA,OAAOF,OAAO,CAAA;KACf;EAEDO,EAAAA,IAAIA,CAACvB,OAAO,EAAEC,QAAQ,EAAE;EACtB,IAAA,IAAIuB,QAAQ,GAAGxB,OAAO,CAACyB,sBAAsB,CAAA;EAE7C,IAAA,OAAOD,QAAQ,EAAE;EACf,MAAA,IAAIA,QAAQ,CAACtB,OAAO,CAACD,QAAQ,CAAC,EAAE;UAC9B,OAAO,CAACuB,QAAQ,CAAC,CAAA;EACnB,OAAA;QAEAA,QAAQ,GAAGA,QAAQ,CAACC,sBAAsB,CAAA;EAC5C,KAAA;EAEA,IAAA,OAAO,EAAE,CAAA;KACV;EAEDC,EAAAA,IAAIA,CAAC1B,OAAO,EAAEC,QAAQ,EAAE;EACtB,IAAA,IAAIyB,IAAI,GAAG1B,OAAO,CAAC2B,kBAAkB,CAAA;EAErC,IAAA,OAAOD,IAAI,EAAE;QACX,IAAI,IAAI,CAACxB,OAAO,CAACwB,IAAI,EAAEzB,QAAQ,CAAC,EAAE;UAChC,OAAO,CAACyB,IAAI,CAAC,CAAA;EACf,OAAA;QAEAA,IAAI,GAAGA,IAAI,CAACC,kBAAkB,CAAA;EAChC,KAAA;EAEA,IAAA,OAAO,EAAE,CAAA;EACX,GAAA;EACF;;;;;;;;"}