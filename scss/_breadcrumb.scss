@use "sass:string";
@use "config" as *;
@use "variables" as *;
@use "functions" as *;
@use "mixins/border-radius" as *;

// scss-docs-start breadcrumb-variables
$breadcrumb-font-size:              null !default;
$breadcrumb-padding-y:              0 !default;
$breadcrumb-padding-x:              0 !default;
$breadcrumb-item-padding-x:         .5rem !default;
$breadcrumb-margin-bottom:          1rem !default;
$breadcrumb-bg:                     null !default;
$breadcrumb-divider-color:          var(--secondary-color) !default;
$breadcrumb-active-color:           var(--secondary-color) !default;
$breadcrumb-divider:                string.quote("/") !default;
$breadcrumb-divider-flipped:        $breadcrumb-divider !default;
$breadcrumb-border-radius:          null !default;
// scss-docs-end breadcrumb-variables

@layer components {
  .breadcrumb {
    // scss-docs-start breadcrumb-css-vars
    --breadcrumb-padding-x: #{$breadcrumb-padding-x};
    --breadcrumb-padding-y: #{$breadcrumb-padding-y};
    --breadcrumb-margin-bottom: #{$breadcrumb-margin-bottom};
    --breadcrumb-font-size: #{$breadcrumb-font-size};
    --breadcrumb-bg: #{$breadcrumb-bg};
    --breadcrumb-border-radius: #{$breadcrumb-border-radius};
    --breadcrumb-divider-color: #{$breadcrumb-divider-color};
    --breadcrumb-item-padding-x: #{$breadcrumb-item-padding-x};
    --breadcrumb-item-active-color: #{$breadcrumb-active-color};
    // scss-docs-end breadcrumb-css-vars

    display: flex;
    flex-wrap: wrap;
    padding: var(--breadcrumb-padding-y) var(--breadcrumb-padding-x);
    margin-bottom: var(--breadcrumb-margin-bottom);
    font-size: var(--breadcrumb-font-size);
    list-style: none;
    background-color: var(--breadcrumb-bg);
    @include border-radius(var(--breadcrumb-border-radius));
  }

  .breadcrumb-item {
    // The separator between breadcrumbs (by default, a forward-slash: "/")
    + .breadcrumb-item {
      padding-inline-start: var(--breadcrumb-item-padding-x);

      &::before {
        float: inline-start; // Suppress inline spacings and underlining of the separator
        padding-inline-end: var(--breadcrumb-item-padding-x);
        color: var(--breadcrumb-divider-color);
        content: var(--breadcrumb-divider, escape-svg($breadcrumb-divider));
      }
    }

    [dir="rtl"] &:not(:first-child)::before {
      content: var(--breadcrumb-divider, escape-svg($breadcrumb-divider-flipped));
    }

    &.active {
      color: var(--breadcrumb-item-active-color);
    }
  }
}
