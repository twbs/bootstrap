@use "../../../scss/layout/breakpoints" as *;
@use "../../../scss/mixins/border-radius" as *;

// stylelint-disable declaration-no-important, selector-max-id

//
// Carbon ads
//

@layer custom {
  #carbonads {
    position: static;
    max-width: 400px;
    padding: .75rem .75rem .75rem 160px;
    margin: 1rem 0;
    overflow: hidden;
    font-size: var(--bs-font-size-sm);
    line-height: 1.4;
    text-align: start;
    background-color: var(--bs-bg-1);
    @include border-radius(var(--bs-border-radius-lg));

    a {
      color: var(--bs-body-color);
      text-decoration: none;
    }
  }

  .carbon-img {
    float: inline-start;
    margin-inline-start: -145px;

    > img {
      @include border-radius(var(--bs-border-radius-sm));
    }
  }

  @container (max-width: 240px) {
    #carbonads {
      position: sticky;
      bottom: 0;
      flex-shrink: 0;
      padding-block: 1.25rem;
      padding-inline: 0;
      background-color: var(--bs-bg-body);
      border-top: 1px solid var(--bs-border-color);
      @include border-radius(0);
    }

    .carbon-img {
      position: relative;
      display: block;
      float: none;
      width: fit-content;
      margin-inline-start: 0;

      &::after {
        position: absolute;
        inset: 0;
        display: block;
        content: "";
        border: 1px solid var(--bs-border-color-translucent);
        @include border-radius(var(--bs-border-radius-sm));
      }
    }

    .carbon-wrap {
      display: flex;
      flex-direction: column;
      gap: .5rem;
    }
  }

  .carbon-poweredby {
    display: block;
    margin-top: .5rem;
    color: var(--bs-fg-3) !important;
  }
}
