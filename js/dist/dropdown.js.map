{"version":3,"file":"dropdown.js","sources":["../src/dropdown.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  computePosition,\n  flip,\n  shift,\n  offset,\n  autoUpdate\n} from '@floating-ui/dom'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  execute,\n  getElement,\n  getNextActiveElement,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop\n} from './util/index.js'\nimport {\n  parseResponsivePlacement,\n  getResponsivePlacement,\n  createBreakpointListeners,\n  disposeBreakpointListeners\n} from './util/floating-ui.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'dropdown'\nconst DATA_KEY = 'bs.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ESCAPE_KEY = 'Escape'\nconst TAB_KEY = 'Tab'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst ARROW_LEFT_KEY = 'ArrowLeft'\nconst ARROW_RIGHT_KEY = 'ArrowRight'\nconst HOME_KEY = 'Home'\nconst END_KEY = 'End'\nconst ENTER_KEY = 'Enter'\nconst SPACE_KEY = ' '\nconst RIGHT_MOUSE_BUTTON = 2\n\n// Hover intent delay (ms) - grace period before closing submenu\nconst SUBMENU_CLOSE_DELAY = 100\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE}.${CLASS_NAME_SHOW}`\nconst SELECTOR_MENU = '.dropdown-menu'\nconst SELECTOR_SUBMENU = '.dropdown-submenu'\nconst SELECTOR_SUBMENU_TOGGLE = '.dropdown-submenu > .dropdown-item'\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav'\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-item:not(.disabled):not(:disabled)'\n\n// Default logical placement (uses start/end which get resolved to left/right based on RTL)\nconst DEFAULT_PLACEMENT = 'bottom-start'\nconst SUBMENU_PLACEMENT = 'end-start'\n\n// Resolve logical placement (start/end) to physical (left/right) based on RTL\nconst resolveLogicalPlacement = placement => {\n  if (isRTL()) {\n    // RTL: start → right, end → left\n    return placement.replace(/^start(?=-|$)/, 'right').replace(/^end(?=-|$)/, 'left')\n  }\n\n  // LTR: start → left, end → right\n  return placement.replace(/^start(?=-|$)/, 'left').replace(/^end(?=-|$)/, 'right')\n}\n\n// Helper for barycentric coordinate calculation (point in triangle check)\nconst triangleSign = (p1, p2, p3) =>\n  ((p1.x - p3.x) * (p2.y - p3.y)) - ((p2.x - p3.x) * (p1.y - p3.y))\n\nconst Default = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  floatingConfig: null,\n  placement: DEFAULT_PLACEMENT,\n  reference: 'toggle',\n  // Submenu options\n  submenuTrigger: 'both', // 'click', 'hover', or 'both'\n  submenuDelay: SUBMENU_CLOSE_DELAY\n}\n\nconst DefaultType = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  floatingConfig: '(null|object|function)',\n  placement: 'string',\n  reference: '(string|element|object)',\n  submenuTrigger: 'string',\n  submenuDelay: 'number'\n}\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    if (typeof computePosition === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Floating UI (https://floating-ui.com)')\n    }\n\n    super(element, config)\n\n    this._floatingCleanup = null\n    this._mediaQueryListeners = []\n    this._responsivePlacements = null\n    this._parent = this._element.parentNode // dropdown wrapper\n    this._isSubmenu = this._parent.classList.contains('dropdown-submenu')\n    this._openSubmenus = new Map() // Map of submenu element -> cleanup function\n    this._submenuCloseTimeouts = new Map() // Map of submenu element -> timeout ID\n    this._hoverIntentData = null // For safe triangle calculation\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.prev(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.findOne(SELECTOR_MENU, this._parent)\n\n    // Parse responsive placements on init\n    this._parseResponsivePlacements()\n\n    // Set up submenu event listeners\n    this._setupSubmenuListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, relatedTarget)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._createFloating()\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    this._element.focus()\n    this._element.setAttribute('aria-expanded', 'true')\n\n    this._menu.classList.add(CLASS_NAME_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    this._parent.classList.add(CLASS_NAME_SHOW)\n    EventHandler.trigger(this._element, EVENT_SHOWN, relatedTarget)\n  }\n\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    this._completeHide(relatedTarget)\n  }\n\n  dispose() {\n    this._disposeFloating()\n    this._disposeMediaQueryListeners()\n    this._closeAllSubmenus()\n    this._clearAllSubmenuTimeouts()\n    super.dispose()\n  }\n\n  update() {\n    if (this._floatingCleanup) {\n      this._updateFloatingPosition()\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE, relatedTarget)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    // Close all open submenus first\n    this._closeAllSubmenus()\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._disposeFloating()\n\n    this._menu.classList.remove(CLASS_NAME_SHOW)\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._parent.classList.remove(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', 'false')\n    Manipulator.removeDataAttribute(this._menu, 'placement')\n    Manipulator.removeDataAttribute(this._menu, 'display')\n    EventHandler.trigger(this._element, EVENT_HIDDEN, relatedTarget)\n  }\n\n  _getConfig(config) {\n    config = super._getConfig(config)\n\n    if (typeof config.reference === 'object' && !isElement(config.reference) &&\n      typeof config.reference.getBoundingClientRect !== 'function'\n    ) {\n      // Floating UI virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`)\n    }\n\n    return config\n  }\n\n  _createFloating() {\n    if (this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'display', 'static')\n      return\n    }\n\n    let referenceElement = this._element\n\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference)\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference\n    }\n\n    // Initial position update\n    this._updateFloatingPosition(referenceElement)\n\n    // Set up auto-update for scroll/resize\n    this._floatingCleanup = autoUpdate(\n      referenceElement,\n      this._menu,\n      () => this._updateFloatingPosition(referenceElement)\n    )\n  }\n\n  async _updateFloatingPosition(referenceElement = null) {\n    if (!this._menu) {\n      return\n    }\n\n    if (!referenceElement) {\n      if (this._config.reference === 'parent') {\n        referenceElement = this._parent\n      } else if (isElement(this._config.reference)) {\n        referenceElement = getElement(this._config.reference)\n      } else if (typeof this._config.reference === 'object') {\n        referenceElement = this._config.reference\n      } else {\n        referenceElement = this._element\n      }\n    }\n\n    const placement = this._getPlacement()\n    const middleware = this._getFloatingMiddleware()\n    const floatingConfig = this._getFloatingConfig(placement, middleware)\n\n    await this._applyFloatingPosition(\n      referenceElement,\n      this._menu,\n      floatingConfig.placement,\n      floatingConfig.middleware\n    )\n  }\n\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _getPlacement() {\n    // If we have responsive placements, find the appropriate one for current viewport\n    const placement = this._responsivePlacements ?\n      getResponsivePlacement(this._responsivePlacements, DEFAULT_PLACEMENT) :\n      this._config.placement\n\n    // Resolve logical placements (start/end) to physical (left/right) based on RTL\n    return resolveLogicalPlacement(placement)\n  }\n\n  _parseResponsivePlacements() {\n    this._responsivePlacements = parseResponsivePlacement(this._config.placement, DEFAULT_PLACEMENT)\n\n    if (this._responsivePlacements) {\n      this._setupMediaQueryListeners()\n    }\n  }\n\n  _setupMediaQueryListeners() {\n    this._disposeMediaQueryListeners()\n    this._mediaQueryListeners = createBreakpointListeners(() => {\n      if (this._isShown()) {\n        this._updateFloatingPosition()\n      }\n    })\n  }\n\n  _disposeMediaQueryListeners() {\n    disposeBreakpointListeners(this._mediaQueryListeners)\n    this._mediaQueryListeners = []\n  }\n\n  _getOffset() {\n    const { offset: offsetConfig } = this._config\n\n    if (typeof offsetConfig === 'string') {\n      return offsetConfig.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offsetConfig === 'function') {\n      // Floating UI passes different args, adapt the interface for offset function callbacks\n      return ({ placement, rects }) => {\n        const result = offsetConfig({ placement, reference: rects.reference, floating: rects.floating }, this._element)\n        return result\n      }\n    }\n\n    return offsetConfig\n  }\n\n  _getFloatingMiddleware() {\n    const offsetValue = this._getOffset()\n\n    const middleware = [\n      // Offset middleware - handles distance from reference\n      offset(\n        typeof offsetValue === 'function' ?\n          offsetValue :\n          { mainAxis: offsetValue[1] || 0, crossAxis: offsetValue[0] || 0 }\n      ),\n      // Flip middleware - handles fallback placements\n      flip({\n        fallbackPlacements: this._getFallbackPlacements()\n      }),\n      // Shift middleware - prevents overflow\n      shift({\n        boundary: this._config.boundary === 'clippingParents' ? 'clippingAncestors' : this._config.boundary\n      })\n    ]\n\n    return middleware\n  }\n\n  _getFallbackPlacements() {\n    // Get appropriate fallback placements based on current placement\n    // Fallbacks should preserve alignment (start/end) when possible\n    const placement = this._getPlacement()\n\n    // Handle all possible Floating UI placements\n    const fallbackMap = {\n      bottom: ['top', 'bottom-start', 'bottom-end', 'top-start', 'top-end'],\n      'bottom-start': ['top-start', 'bottom-end', 'top-end'],\n      'bottom-end': ['top-end', 'bottom-start', 'top-start'],\n      top: ['bottom', 'top-start', 'top-end', 'bottom-start', 'bottom-end'],\n      'top-start': ['bottom-start', 'top-end', 'bottom-end'],\n      'top-end': ['bottom-end', 'top-start', 'bottom-start'],\n      right: ['left', 'right-start', 'right-end', 'left-start', 'left-end'],\n      'right-start': ['left-start', 'right-end', 'left-end', 'top-start', 'bottom-start'],\n      'right-end': ['left-end', 'right-start', 'left-start', 'top-end', 'bottom-end'],\n      left: ['right', 'left-start', 'left-end', 'right-start', 'right-end'],\n      'left-start': ['right-start', 'left-end', 'right-end', 'top-start', 'bottom-start'],\n      'left-end': ['right-end', 'left-start', 'right-start', 'top-end', 'bottom-end']\n    }\n\n    return fallbackMap[placement] || ['top', 'bottom', 'right', 'left']\n  }\n\n  _getFloatingConfig(placement, middleware) {\n    const defaultConfig = {\n      placement,\n      middleware\n    }\n\n    return {\n      ...defaultConfig,\n      ...execute(this._config.floatingConfig, [undefined, defaultConfig])\n    }\n  }\n\n  _disposeFloating() {\n    if (this._floatingCleanup) {\n      this._floatingCleanup()\n      this._floatingCleanup = null\n    }\n  }\n\n  // Shared helper for positioning any floating element\n  async _applyFloatingPosition(reference, floating, placement, middleware) {\n    if (!floating.isConnected) {\n      return null\n    }\n\n    const { x, y, placement: finalPlacement } = await computePosition(\n      reference,\n      floating,\n      { placement, middleware }\n    )\n\n    if (!floating.isConnected) {\n      return null\n    }\n\n    Object.assign(floating.style, {\n      position: 'absolute',\n      left: `${x}px`,\n      top: `${y}px`,\n      margin: '0'\n    })\n\n    Manipulator.setDataAttribute(floating, 'placement', finalPlacement)\n    return finalPlacement\n  }\n\n  // -------------------------------------------------------------------------\n  // Submenu handling\n  // -------------------------------------------------------------------------\n\n  _setupSubmenuListeners() {\n    // Set up hover listeners for submenu triggers\n    if (this._config.submenuTrigger === 'hover' || this._config.submenuTrigger === 'both') {\n      EventHandler.on(this._menu, 'mouseenter', SELECTOR_SUBMENU_TOGGLE, event => {\n        this._onSubmenuTriggerEnter(event)\n      })\n\n      EventHandler.on(this._menu, 'mouseleave', SELECTOR_SUBMENU, event => {\n        this._onSubmenuLeave(event)\n      })\n\n      // Track mouse movement for safe triangle calculation\n      EventHandler.on(this._menu, 'mousemove', event => {\n        this._trackMousePosition(event)\n      })\n    }\n\n    // Set up click listener for submenu triggers\n    if (this._config.submenuTrigger === 'click' || this._config.submenuTrigger === 'both') {\n      EventHandler.on(this._menu, 'click', SELECTOR_SUBMENU_TOGGLE, event => {\n        this._onSubmenuTriggerClick(event)\n      })\n    }\n  }\n\n  _onSubmenuTriggerEnter(event) {\n    const trigger = event.target.closest(SELECTOR_SUBMENU_TOGGLE)\n    if (!trigger) {\n      return\n    }\n\n    const submenuWrapper = trigger.closest(SELECTOR_SUBMENU)\n    const submenu = SelectorEngine.findOne(SELECTOR_MENU, submenuWrapper)\n    if (!submenu) {\n      return\n    }\n\n    // Cancel any pending close timeout for this submenu\n    this._cancelSubmenuCloseTimeout(submenu)\n\n    // Close other open submenus at the same level\n    this._closeSiblingSubmenus(submenuWrapper)\n\n    // Open this submenu\n    this._openSubmenu(trigger, submenu, submenuWrapper)\n  }\n\n  _onSubmenuLeave(event) {\n    const submenuWrapper = event.target.closest(SELECTOR_SUBMENU)\n    const submenu = SelectorEngine.findOne(SELECTOR_MENU, submenuWrapper)\n    if (!submenu || !this._openSubmenus.has(submenu)) {\n      return\n    }\n\n    // Check if we're moving toward the submenu (safe triangle)\n    if (this._isMovingTowardSubmenu(event, submenu)) {\n      return\n    }\n\n    // Schedule submenu close with delay\n    this._scheduleSubmenuClose(submenu, submenuWrapper)\n  }\n\n  _onSubmenuTriggerClick(event) {\n    const trigger = event.target.closest(SELECTOR_SUBMENU_TOGGLE)\n    if (!trigger) {\n      return\n    }\n\n    event.preventDefault()\n    event.stopPropagation()\n\n    const submenuWrapper = trigger.closest(SELECTOR_SUBMENU)\n    const submenu = SelectorEngine.findOne(SELECTOR_MENU, submenuWrapper)\n    if (!submenu) {\n      return\n    }\n\n    // Toggle submenu\n    if (this._openSubmenus.has(submenu)) {\n      this._closeSubmenu(submenu, submenuWrapper)\n    } else {\n      this._closeSiblingSubmenus(submenuWrapper)\n      this._openSubmenu(trigger, submenu, submenuWrapper)\n    }\n  }\n\n  _openSubmenu(trigger, submenu, submenuWrapper) {\n    if (this._openSubmenus.has(submenu)) {\n      return\n    }\n\n    // Set ARIA attributes\n    trigger.setAttribute('aria-expanded', 'true')\n    trigger.setAttribute('aria-haspopup', 'true')\n\n    // Position and show submenu\n    submenu.classList.add(CLASS_NAME_SHOW)\n    submenuWrapper.classList.add(CLASS_NAME_SHOW)\n\n    // Set up Floating UI positioning for submenu\n    const cleanup = this._createSubmenuFloating(trigger, submenu, submenuWrapper)\n    this._openSubmenus.set(submenu, cleanup)\n\n    // Set up mouseenter on submenu to cancel close timeout\n    EventHandler.on(submenu, 'mouseenter', () => {\n      this._cancelSubmenuCloseTimeout(submenu)\n    })\n  }\n\n  _closeSubmenu(submenu, submenuWrapper) {\n    if (!this._openSubmenus.has(submenu)) {\n      return\n    }\n\n    // Close any nested submenus first\n    const nestedSubmenus = SelectorEngine.find(`${SELECTOR_SUBMENU} ${SELECTOR_MENU}.${CLASS_NAME_SHOW}`, submenu)\n    for (const nested of nestedSubmenus) {\n      const nestedWrapper = nested.closest(SELECTOR_SUBMENU)\n      this._closeSubmenu(nested, nestedWrapper)\n    }\n\n    // Get the trigger\n    const trigger = SelectorEngine.findOne(SELECTOR_SUBMENU_TOGGLE, submenuWrapper)\n\n    // Clean up Floating UI\n    const cleanup = this._openSubmenus.get(submenu)\n    if (cleanup) {\n      cleanup()\n    }\n\n    this._openSubmenus.delete(submenu)\n\n    // Remove event listeners\n    EventHandler.off(submenu, 'mouseenter')\n\n    // Update ARIA and visibility\n    if (trigger) {\n      trigger.setAttribute('aria-expanded', 'false')\n    }\n\n    submenu.classList.remove(CLASS_NAME_SHOW)\n    submenuWrapper.classList.remove(CLASS_NAME_SHOW)\n\n    // Clear inline styles\n    submenu.style.position = ''\n    submenu.style.left = ''\n    submenu.style.top = ''\n    submenu.style.margin = ''\n  }\n\n  _closeAllSubmenus() {\n    for (const [submenu] of this._openSubmenus) {\n      const submenuWrapper = submenu.closest(SELECTOR_SUBMENU)\n      this._closeSubmenu(submenu, submenuWrapper)\n    }\n  }\n\n  _closeSiblingSubmenus(currentSubmenuWrapper) {\n    // Find all sibling submenu wrappers and close their menus\n    const parent = currentSubmenuWrapper.parentNode\n    const siblingSubmenus = SelectorEngine.find(`${SELECTOR_SUBMENU} > ${SELECTOR_MENU}.${CLASS_NAME_SHOW}`, parent)\n\n    for (const siblingMenu of siblingSubmenus) {\n      const siblingWrapper = siblingMenu.closest(SELECTOR_SUBMENU)\n      if (siblingWrapper !== currentSubmenuWrapper) {\n        this._closeSubmenu(siblingMenu, siblingWrapper)\n      }\n    }\n  }\n\n  _createSubmenuFloating(trigger, submenu, submenuWrapper) {\n    const referenceElement = submenuWrapper\n    const placement = resolveLogicalPlacement(SUBMENU_PLACEMENT)\n    const middleware = [\n      offset({ mainAxis: 0, crossAxis: -4 }),\n      flip({\n        fallbackPlacements: [\n          resolveLogicalPlacement('start-start'),\n          resolveLogicalPlacement('end-end'),\n          resolveLogicalPlacement('start-end')\n        ]\n      }),\n      shift({ padding: 8 })\n    ]\n\n    const updatePosition = () => this._applyFloatingPosition(referenceElement, submenu, placement, middleware)\n\n    updatePosition()\n    return autoUpdate(referenceElement, submenu, updatePosition)\n  }\n\n  _scheduleSubmenuClose(submenu, submenuWrapper) {\n    this._cancelSubmenuCloseTimeout(submenu)\n\n    const timeoutId = setTimeout(() => {\n      this._closeSubmenu(submenu, submenuWrapper)\n      this._submenuCloseTimeouts.delete(submenu)\n    }, this._config.submenuDelay)\n\n    this._submenuCloseTimeouts.set(submenu, timeoutId)\n  }\n\n  _cancelSubmenuCloseTimeout(submenu) {\n    const timeoutId = this._submenuCloseTimeouts.get(submenu)\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n      this._submenuCloseTimeouts.delete(submenu)\n    }\n  }\n\n  _clearAllSubmenuTimeouts() {\n    for (const timeoutId of this._submenuCloseTimeouts.values()) {\n      clearTimeout(timeoutId)\n    }\n\n    this._submenuCloseTimeouts.clear()\n  }\n\n  // -------------------------------------------------------------------------\n  // Hover intent / Safe triangle\n  // -------------------------------------------------------------------------\n\n  _trackMousePosition(event) {\n    this._hoverIntentData = {\n      x: event.clientX,\n      y: event.clientY,\n      timestamp: Date.now()\n    }\n  }\n\n  _isMovingTowardSubmenu(event, submenu) {\n    if (!this._hoverIntentData) {\n      return false\n    }\n\n    const submenuRect = submenu.getBoundingClientRect()\n    const currentPos = { x: event.clientX, y: event.clientY }\n    const lastPos = { x: this._hoverIntentData.x, y: this._hoverIntentData.y }\n\n    // Create a triangle from current position to submenu edges\n    // The triangle represents the \"safe zone\" for diagonal movement\n    const isRtl = isRTL()\n\n    // Determine which edge of the submenu to target based on direction\n    const targetX = isRtl ? submenuRect.right : submenuRect.left\n    const topCorner = { x: targetX, y: submenuRect.top }\n    const bottomCorner = { x: targetX, y: submenuRect.bottom }\n\n    // Check if cursor is moving toward the submenu\n    // by checking if the current position is within the safe triangle\n    return this._pointInTriangle(currentPos, lastPos, topCorner, bottomCorner)\n  }\n\n  _pointInTriangle(point, v1, v2, v3) {\n    // Barycentric coordinate method to check if point is inside triangle\n    const d1 = triangleSign(point, v1, v2)\n    const d2 = triangleSign(point, v2, v3)\n    const d3 = triangleSign(point, v3, v1)\n\n    const hasNeg = (d1 < 0) || (d2 < 0) || (d3 < 0)\n    const hasPos = (d1 > 0) || (d2 > 0) || (d3 > 0)\n\n    return !(hasNeg && hasPos)\n  }\n\n  // -------------------------------------------------------------------------\n  // Keyboard navigation\n  // -------------------------------------------------------------------------\n\n  _selectMenuItem({ key, target }) {\n    // Get items only from the current menu level (not nested submenus)\n    // If target is inside a menu, use that menu; otherwise use the main menu\n    const currentMenu = target.closest(SELECTOR_MENU) || this._menu\n    const items = SelectorEngine.find(`:scope > li > ${SELECTOR_VISIBLE_ITEMS}, :scope > ${SELECTOR_VISIBLE_ITEMS}`, currentMenu)\n      .filter(element => isVisible(element))\n\n    if (!items.length) {\n      return\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target)).focus()\n  }\n\n  _handleSubmenuKeydown(event) {\n    const { key, target } = event\n    const isRtl = isRTL()\n\n    // Determine the \"enter submenu\" and \"exit submenu\" keys based on RTL\n    const enterKey = isRtl ? ARROW_LEFT_KEY : ARROW_RIGHT_KEY\n    const exitKey = isRtl ? ARROW_RIGHT_KEY : ARROW_LEFT_KEY\n\n    // Check if target is a submenu trigger\n    const submenuWrapper = target.closest(SELECTOR_SUBMENU)\n    const isSubmenuTrigger = submenuWrapper && target.matches(SELECTOR_SUBMENU_TOGGLE)\n\n    // Handle Enter/Space on submenu trigger\n    if ((key === ENTER_KEY || key === SPACE_KEY) && isSubmenuTrigger) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      const submenu = SelectorEngine.findOne(SELECTOR_MENU, submenuWrapper)\n      if (submenu) {\n        this._closeSiblingSubmenus(submenuWrapper)\n        this._openSubmenu(target, submenu, submenuWrapper)\n        // Focus first item in submenu\n        requestAnimationFrame(() => {\n          const firstItem = SelectorEngine.findOne(SELECTOR_VISIBLE_ITEMS, submenu)\n          if (firstItem) {\n            firstItem.focus()\n          }\n        })\n      }\n\n      return true\n    }\n\n    // Handle Right arrow (or Left in RTL) - enter submenu\n    if (key === enterKey && isSubmenuTrigger) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      const submenu = SelectorEngine.findOne(SELECTOR_MENU, submenuWrapper)\n      if (submenu) {\n        this._closeSiblingSubmenus(submenuWrapper)\n        this._openSubmenu(target, submenu, submenuWrapper)\n        // Focus first item in submenu\n        requestAnimationFrame(() => {\n          const firstItem = SelectorEngine.findOne(SELECTOR_VISIBLE_ITEMS, submenu)\n          if (firstItem) {\n            firstItem.focus()\n          }\n        })\n      }\n\n      return true\n    }\n\n    // Handle Left arrow (or Right in RTL) - exit submenu\n    if (key === exitKey) {\n      const currentMenu = target.closest(SELECTOR_MENU)\n      const parentSubmenuWrapper = currentMenu?.closest(SELECTOR_SUBMENU)\n\n      if (parentSubmenuWrapper) {\n        event.preventDefault()\n        event.stopPropagation()\n\n        const parentTrigger = SelectorEngine.findOne(SELECTOR_SUBMENU_TOGGLE, parentSubmenuWrapper)\n        this._closeSubmenu(currentMenu, parentSubmenuWrapper)\n        if (parentTrigger) {\n          parentTrigger.focus()\n        }\n\n        return true\n      }\n    }\n\n    // Handle Home/End keys\n    if (key === HOME_KEY || key === END_KEY) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      const currentMenu = target.closest(SELECTOR_MENU)\n      const items = SelectorEngine.find(`:scope > li > ${SELECTOR_VISIBLE_ITEMS}, :scope > ${SELECTOR_VISIBLE_ITEMS}`, currentMenu)\n        .filter(element => isVisible(element))\n\n      if (items.length) {\n        const targetItem = key === HOME_KEY ? items[0] : items[items.length - 1]\n        targetItem.focus()\n      }\n\n      return true\n    }\n\n    return false\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || (event.type === 'keyup' && event.key !== TAB_KEY)) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle)\n      if (!context || context._config.autoClose === false) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n      const isMenuTarget = composedPath.includes(context._menu)\n      if (\n        composedPath.includes(context._element) ||\n        (context._config.autoClose === 'inside' && !isMenuTarget) ||\n        (context._config.autoClose === 'outside' && isMenuTarget)\n      ) {\n        continue\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && ((event.type === 'keyup' && event.key === TAB_KEY) || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context._completeHide(relatedTarget)\n    }\n  }\n\n  static dataApiKeydownHandler(event) {\n    // If not a relevant key => not a dropdown command\n    const isInput = /input|textarea/i.test(event.target.tagName)\n    const isEscapeEvent = event.key === ESCAPE_KEY\n    const isUpOrDownEvent = [ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)\n    const isLeftOrRightEvent = [ARROW_LEFT_KEY, ARROW_RIGHT_KEY].includes(event.key)\n    const isHomeOrEndEvent = [HOME_KEY, END_KEY].includes(event.key)\n    const isEnterOrSpaceEvent = [ENTER_KEY, SPACE_KEY].includes(event.key)\n\n    // Allow Enter/Space only on submenu triggers\n    const isSubmenuTrigger = event.target.matches(SELECTOR_SUBMENU_TOGGLE)\n\n    if (!isUpOrDownEvent && !isEscapeEvent && !isLeftOrRightEvent && !isHomeOrEndEvent &&\n        !(isEnterOrSpaceEvent && isSubmenuTrigger)) {\n      return\n    }\n\n    if (isInput && !isEscapeEvent) {\n      return\n    }\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE) ?\n      this :\n      (SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.next(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.findOne(SELECTOR_DATA_TOGGLE, event.delegateTarget.parentNode))\n\n    if (!getToggleButton) {\n      return\n    }\n\n    const instance = Dropdown.getOrCreateInstance(getToggleButton)\n\n    // Handle submenu navigation first\n    if ((isLeftOrRightEvent || isHomeOrEndEvent || (isEnterOrSpaceEvent && isSubmenuTrigger)) && instance._handleSubmenuKeydown(event)) {\n      return\n    }\n\n    // Handle Up/Down navigation\n    if (isUpOrDownEvent) {\n      event.preventDefault()\n      event.stopPropagation()\n      instance.show()\n      instance._selectMenuItem(event)\n      return\n    }\n\n    // Handle Escape\n    if (isEscapeEvent && instance._isShown()) {\n      event.preventDefault()\n      event.stopPropagation()\n\n      // If in a submenu, close just that submenu\n      const currentMenu = event.target.closest(SELECTOR_MENU)\n      const parentSubmenuWrapper = currentMenu?.closest(SELECTOR_SUBMENU)\n\n      if (parentSubmenuWrapper && instance._openSubmenus.size > 0) {\n        const parentTrigger = SelectorEngine.findOne(SELECTOR_SUBMENU_TOGGLE, parentSubmenuWrapper)\n        instance._closeSubmenu(currentMenu, parentSubmenuWrapper)\n        if (parentTrigger) {\n          parentTrigger.focus()\n        }\n\n        return\n      }\n\n      // Otherwise close the whole dropdown\n      instance.hide()\n      getToggleButton.focus()\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_CLICK_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  event.preventDefault()\n  Dropdown.getOrCreateInstance(this).toggle()\n})\n\nexport default Dropdown\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","ESCAPE_KEY","TAB_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","ARROW_LEFT_KEY","ARROW_RIGHT_KEY","HOME_KEY","END_KEY","ENTER_KEY","SPACE_KEY","RIGHT_MOUSE_BUTTON","SUBMENU_CLOSE_DELAY","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","EVENT_KEYDOWN_DATA_API","EVENT_KEYUP_DATA_API","CLASS_NAME_SHOW","SELECTOR_DATA_TOGGLE","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","SELECTOR_SUBMENU","SELECTOR_SUBMENU_TOGGLE","SELECTOR_NAVBAR_NAV","SELECTOR_VISIBLE_ITEMS","DEFAULT_PLACEMENT","SUBMENU_PLACEMENT","resolveLogicalPlacement","placement","isRTL","replace","triangleSign","p1","p2","p3","x","y","Default","autoClose","boundary","display","offset","floatingConfig","reference","submenuTrigger","submenuDelay","DefaultType","Dropdown","BaseComponent","constructor","element","config","computePosition","TypeError","_floatingCleanup","_mediaQueryListeners","_responsivePlacements","_parent","_element","parentNode","_isSubmenu","classList","contains","_openSubmenus","Map","_submenuCloseTimeouts","_hoverIntentData","_menu","SelectorEngine","next","prev","findOne","_parseResponsivePlacements","_setupSubmenuListeners","toggle","_isShown","hide","show","isDisabled","relatedTarget","showEvent","EventHandler","trigger","defaultPrevented","_createFloating","document","documentElement","closest","concat","body","children","on","noop","focus","setAttribute","add","_completeHide","dispose","_disposeFloating","_disposeMediaQueryListeners","_closeAllSubmenus","_clearAllSubmenuTimeouts","update","_updateFloatingPosition","hideEvent","off","remove","Manipulator","removeDataAttribute","_getConfig","isElement","getBoundingClientRect","toUpperCase","_config","setDataAttribute","referenceElement","getElement","autoUpdate","_getPlacement","middleware","_getFloatingMiddleware","_getFloatingConfig","_applyFloatingPosition","getResponsivePlacement","parseResponsivePlacement","_setupMediaQueryListeners","createBreakpointListeners","disposeBreakpointListeners","_getOffset","offsetConfig","split","map","value","Number","parseInt","rects","result","floating","offsetValue","mainAxis","crossAxis","flip","fallbackPlacements","_getFallbackPlacements","shift","fallbackMap","bottom","top","right","left","defaultConfig","execute","undefined","isConnected","finalPlacement","Object","assign","style","position","margin","event","_onSubmenuTriggerEnter","_onSubmenuLeave","_trackMousePosition","_onSubmenuTriggerClick","target","submenuWrapper","submenu","_cancelSubmenuCloseTimeout","_closeSiblingSubmenus","_openSubmenu","has","_isMovingTowardSubmenu","_scheduleSubmenuClose","preventDefault","stopPropagation","_closeSubmenu","cleanup","_createSubmenuFloating","set","nestedSubmenus","find","nested","nestedWrapper","get","delete","currentSubmenuWrapper","parent","siblingSubmenus","siblingMenu","siblingWrapper","padding","updatePosition","timeoutId","setTimeout","clearTimeout","values","clear","clientX","clientY","timestamp","Date","now","submenuRect","currentPos","lastPos","isRtl","targetX","topCorner","bottomCorner","_pointInTriangle","point","v1","v2","v3","d1","d2","d3","hasNeg","hasPos","_selectMenuItem","key","currentMenu","items","filter","isVisible","length","getNextActiveElement","includes","_handleSubmenuKeydown","enterKey","exitKey","isSubmenuTrigger","matches","requestAnimationFrame","firstItem","parentSubmenuWrapper","parentTrigger","targetItem","clearMenus","button","type","openToggles","context","getInstance","composedPath","isMenuTarget","test","tagName","clickEvent","dataApiKeydownHandler","isInput","isEscapeEvent","isUpOrDownEvent","isLeftOrRightEvent","isHomeOrEndEvent","isEnterOrSpaceEvent","getToggleButton","delegateTarget","instance","getOrCreateInstance","size"],"mappings":";;;;;;;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;;;EA8BA;EACA;EACA;;EAEA,MAAMA,IAAI,GAAG,UAAU;EACvB,MAAMC,QAAQ,GAAG,aAAa;EAC9B,MAAMC,SAAS,GAAG,CAAA,CAAA,EAAID,QAAQ,CAAA,CAAE;EAChC,MAAME,YAAY,GAAG,WAAW;EAEhC,MAAMC,UAAU,GAAG,QAAQ;EAC3B,MAAMC,OAAO,GAAG,KAAK;EACrB,MAAMC,YAAY,GAAG,SAAS;EAC9B,MAAMC,cAAc,GAAG,WAAW;EAClC,MAAMC,cAAc,GAAG,WAAW;EAClC,MAAMC,eAAe,GAAG,YAAY;EACpC,MAAMC,QAAQ,GAAG,MAAM;EACvB,MAAMC,OAAO,GAAG,KAAK;EACrB,MAAMC,SAAS,GAAG,OAAO;EACzB,MAAMC,SAAS,GAAG,GAAG;EACrB,MAAMC,kBAAkB,GAAG,CAAC;;EAE5B;EACA,MAAMC,mBAAmB,GAAG,GAAG;EAE/B,MAAMC,UAAU,GAAG,CAAA,IAAA,EAAOd,SAAS,CAAA,CAAE;EACrC,MAAMe,YAAY,GAAG,CAAA,MAAA,EAASf,SAAS,CAAA,CAAE;EACzC,MAAMgB,UAAU,GAAG,CAAA,IAAA,EAAOhB,SAAS,CAAA,CAAE;EACrC,MAAMiB,WAAW,GAAG,CAAA,KAAA,EAAQjB,SAAS,CAAA,CAAE;EACvC,MAAMkB,oBAAoB,GAAG,CAAA,KAAA,EAAQlB,SAAS,CAAA,EAAGC,YAAY,CAAA,CAAE;EAC/D,MAAMkB,sBAAsB,GAAG,CAAA,OAAA,EAAUnB,SAAS,CAAA,EAAGC,YAAY,CAAA,CAAE;EACnE,MAAMmB,oBAAoB,GAAG,CAAA,KAAA,EAAQpB,SAAS,CAAA,EAAGC,YAAY,CAAA,CAAE;EAE/D,MAAMoB,eAAe,GAAG,MAAM;EAE9B,MAAMC,oBAAoB,GAAG,2DAA2D;EACxF,MAAMC,0BAA0B,GAAG,CAAA,EAAGD,oBAAoB,CAAA,CAAA,EAAID,eAAe,CAAA,CAAE;EAC/E,MAAMG,aAAa,GAAG,gBAAgB;EACtC,MAAMC,gBAAgB,GAAG,mBAAmB;EAC5C,MAAMC,uBAAuB,GAAG,oCAAoC;EACpE,MAAMC,mBAAmB,GAAG,aAAa;EACzC,MAAMC,sBAAsB,GAAG,8CAA8C;;EAE7E;EACA,MAAMC,iBAAiB,GAAG,cAAc;EACxC,MAAMC,iBAAiB,GAAG,WAAW;;EAErC;EACA,MAAMC,uBAAuB,GAAGC,SAAS,IAAI;IAC3C,IAAIC,cAAK,EAAE,EAAE;EACX;EACA,IAAA,OAAOD,SAAS,CAACE,OAAO,CAAC,eAAe,EAAE,OAAO,CAAC,CAACA,OAAO,CAAC,aAAa,EAAE,MAAM,CAAC;EACnF,EAAA;;EAEA;EACA,EAAA,OAAOF,SAAS,CAACE,OAAO,CAAC,eAAe,EAAE,MAAM,CAAC,CAACA,OAAO,CAAC,aAAa,EAAE,OAAO,CAAC;EACnF,CAAC;;EAED;EACA,MAAMC,YAAY,GAAGA,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,KAC7B,CAACF,EAAE,CAACG,CAAC,GAAGD,EAAE,CAACC,CAAC,KAAKF,EAAE,CAACG,CAAC,GAAGF,EAAE,CAACE,CAAC,CAAC,GAAK,CAACH,EAAE,CAACE,CAAC,GAAGD,EAAE,CAACC,CAAC,KAAKH,EAAE,CAACI,CAAC,GAAGF,EAAE,CAACE,CAAC,CAAE;EAEnE,MAAMC,OAAO,GAAG;EACdC,EAAAA,SAAS,EAAE,IAAI;EACfC,EAAAA,QAAQ,EAAE,iBAAiB;EAC3BC,EAAAA,OAAO,EAAE,SAAS;EAClBC,EAAAA,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;EACdC,EAAAA,cAAc,EAAE,IAAI;EACpBd,EAAAA,SAAS,EAAEH,iBAAiB;EAC5BkB,EAAAA,SAAS,EAAE,QAAQ;EACnB;EACAC,EAAAA,cAAc,EAAE,MAAM;EAAE;EACxBC,EAAAA,YAAY,EAAEpC;EAChB,CAAC;EAED,MAAMqC,WAAW,GAAG;EAClBR,EAAAA,SAAS,EAAE,kBAAkB;EAC7BC,EAAAA,QAAQ,EAAE,kBAAkB;EAC5BC,EAAAA,OAAO,EAAE,QAAQ;EACjBC,EAAAA,MAAM,EAAE,yBAAyB;EACjCC,EAAAA,cAAc,EAAE,wBAAwB;EACxCd,EAAAA,SAAS,EAAE,QAAQ;EACnBe,EAAAA,SAAS,EAAE,yBAAyB;EACpCC,EAAAA,cAAc,EAAE,QAAQ;EACxBC,EAAAA,YAAY,EAAE;EAChB,CAAC;;EAED;EACA;EACA;;EAEA,MAAME,QAAQ,SAASC,aAAa,CAAC;EACnCC,EAAAA,WAAWA,CAACC,OAAO,EAAEC,MAAM,EAAE;EAC3B,IAAA,IAAI,OAAOC,mBAAe,KAAK,WAAW,EAAE;EAC1C,MAAA,MAAM,IAAIC,SAAS,CAAC,sEAAsE,CAAC;EAC7F,IAAA;EAEA,IAAA,KAAK,CAACH,OAAO,EAAEC,MAAM,CAAC;MAEtB,IAAI,CAACG,gBAAgB,GAAG,IAAI;MAC5B,IAAI,CAACC,oBAAoB,GAAG,EAAE;MAC9B,IAAI,CAACC,qBAAqB,GAAG,IAAI;MACjC,IAAI,CAACC,OAAO,GAAG,IAAI,CAACC,QAAQ,CAACC,UAAU,CAAA;EACvC,IAAA,IAAI,CAACC,UAAU,GAAG,IAAI,CAACH,OAAO,CAACI,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC;EACrE,IAAA,IAAI,CAACC,aAAa,GAAG,IAAIC,GAAG,EAAE,CAAA;EAC9B,IAAA,IAAI,CAACC,qBAAqB,GAAG,IAAID,GAAG,EAAE,CAAA;EACtC,IAAA,IAAI,CAACE,gBAAgB,GAAG,IAAI,CAAA;;EAE5B;EACA,IAAA,IAAI,CAACC,KAAK,GAAGC,cAAc,CAACC,IAAI,CAAC,IAAI,CAACX,QAAQ,EAAEtC,aAAa,CAAC,CAAC,CAAC,CAAC,IAC/DgD,cAAc,CAACE,IAAI,CAAC,IAAI,CAACZ,QAAQ,EAAEtC,aAAa,CAAC,CAAC,CAAC,CAAC,IACpDgD,cAAc,CAACG,OAAO,CAACnD,aAAa,EAAE,IAAI,CAACqC,OAAO,CAAC;;EAErD;MACA,IAAI,CAACe,0BAA0B,EAAE;;EAEjC;MACA,IAAI,CAACC,sBAAsB,EAAE;EAC/B,EAAA;;EAEA;IACA,WAAWpC,OAAOA,GAAG;EACnB,IAAA,OAAOA,OAAO;EAChB,EAAA;IAEA,WAAWS,WAAWA,GAAG;EACvB,IAAA,OAAOA,WAAW;EACpB,EAAA;IAEA,WAAWpD,IAAIA,GAAG;EAChB,IAAA,OAAOA,IAAI;EACb,EAAA;;EAEA;EACAgF,EAAAA,MAAMA,GAAG;EACP,IAAA,OAAO,IAAI,CAACC,QAAQ,EAAE,GAAG,IAAI,CAACC,IAAI,EAAE,GAAG,IAAI,CAACC,IAAI,EAAE;EACpD,EAAA;EAEAA,EAAAA,IAAIA,GAAG;EACL,IAAA,IAAIC,mBAAU,CAAC,IAAI,CAACpB,QAAQ,CAAC,IAAI,IAAI,CAACiB,QAAQ,EAAE,EAAE;EAChD,MAAA;EACF,IAAA;EAEA,IAAA,MAAMI,aAAa,GAAG;QACpBA,aAAa,EAAE,IAAI,CAACrB;OACrB;EAED,IAAA,MAAMsB,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,IAAI,CAACxB,QAAQ,EAAE9C,UAAU,EAAEmE,aAAa,CAAC;MAEhF,IAAIC,SAAS,CAACG,gBAAgB,EAAE;EAC9B,MAAA;EACF,IAAA;MAEA,IAAI,CAACC,eAAe,EAAE;;EAEtB;EACA;EACA;EACA;EACA,IAAA,IAAI,cAAc,IAAIC,QAAQ,CAACC,eAAe,IAAI,CAAC,IAAI,CAAC7B,OAAO,CAAC8B,OAAO,CAAChE,mBAAmB,CAAC,EAAE;EAC5F,MAAA,KAAK,MAAM2B,OAAO,IAAI,EAAE,CAACsC,MAAM,CAAC,GAAGH,QAAQ,CAACI,IAAI,CAACC,QAAQ,CAAC,EAAE;UAC1DT,YAAY,CAACU,EAAE,CAACzC,OAAO,EAAE,WAAW,EAAE0C,aAAI,CAAC;EAC7C,MAAA;EACF,IAAA;EAEA,IAAA,IAAI,CAAClC,QAAQ,CAACmC,KAAK,EAAE;MACrB,IAAI,CAACnC,QAAQ,CAACoC,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;MAEnD,IAAI,CAAC3B,KAAK,CAACN,SAAS,CAACkC,GAAG,CAAC9E,eAAe,CAAC;MACzC,IAAI,CAACyC,QAAQ,CAACG,SAAS,CAACkC,GAAG,CAAC9E,eAAe,CAAC;MAC5C,IAAI,CAACwC,OAAO,CAACI,SAAS,CAACkC,GAAG,CAAC9E,eAAe,CAAC;MAC3CgE,YAAY,CAACC,OAAO,CAAC,IAAI,CAACxB,QAAQ,EAAE7C,WAAW,EAAEkE,aAAa,CAAC;EACjE,EAAA;EAEAH,EAAAA,IAAIA,GAAG;EACL,IAAA,IAAIE,mBAAU,CAAC,IAAI,CAACpB,QAAQ,CAAC,IAAI,CAAC,IAAI,CAACiB,QAAQ,EAAE,EAAE;EACjD,MAAA;EACF,IAAA;EAEA,IAAA,MAAMI,aAAa,GAAG;QACpBA,aAAa,EAAE,IAAI,CAACrB;OACrB;EAED,IAAA,IAAI,CAACsC,aAAa,CAACjB,aAAa,CAAC;EACnC,EAAA;EAEAkB,EAAAA,OAAOA,GAAG;MACR,IAAI,CAACC,gBAAgB,EAAE;MACvB,IAAI,CAACC,2BAA2B,EAAE;MAClC,IAAI,CAACC,iBAAiB,EAAE;MACxB,IAAI,CAACC,wBAAwB,EAAE;MAC/B,KAAK,CAACJ,OAAO,EAAE;EACjB,EAAA;EAEAK,EAAAA,MAAMA,GAAG;MACP,IAAI,IAAI,CAAChD,gBAAgB,EAAE;QACzB,IAAI,CAACiD,uBAAuB,EAAE;EAChC,IAAA;EACF,EAAA;;EAEA;IACAP,aAAaA,CAACjB,aAAa,EAAE;EAC3B,IAAA,MAAMyB,SAAS,GAAGvB,YAAY,CAACC,OAAO,CAAC,IAAI,CAACxB,QAAQ,EAAEhD,UAAU,EAAEqE,aAAa,CAAC;MAChF,IAAIyB,SAAS,CAACrB,gBAAgB,EAAE;EAC9B,MAAA;EACF,IAAA;;EAEA;MACA,IAAI,CAACiB,iBAAiB,EAAE;;EAExB;EACA;EACA,IAAA,IAAI,cAAc,IAAIf,QAAQ,CAACC,eAAe,EAAE;EAC9C,MAAA,KAAK,MAAMpC,OAAO,IAAI,EAAE,CAACsC,MAAM,CAAC,GAAGH,QAAQ,CAACI,IAAI,CAACC,QAAQ,CAAC,EAAE;UAC1DT,YAAY,CAACwB,GAAG,CAACvD,OAAO,EAAE,WAAW,EAAE0C,aAAI,CAAC;EAC9C,MAAA;EACF,IAAA;MAEA,IAAI,CAACM,gBAAgB,EAAE;MAEvB,IAAI,CAAC/B,KAAK,CAACN,SAAS,CAAC6C,MAAM,CAACzF,eAAe,CAAC;MAC5C,IAAI,CAACyC,QAAQ,CAACG,SAAS,CAAC6C,MAAM,CAACzF,eAAe,CAAC;MAC/C,IAAI,CAACwC,OAAO,CAACI,SAAS,CAAC6C,MAAM,CAACzF,eAAe,CAAC;MAC9C,IAAI,CAACyC,QAAQ,CAACoC,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;MACpDa,WAAW,CAACC,mBAAmB,CAAC,IAAI,CAACzC,KAAK,EAAE,WAAW,CAAC;MACxDwC,WAAW,CAACC,mBAAmB,CAAC,IAAI,CAACzC,KAAK,EAAE,SAAS,CAAC;MACtDc,YAAY,CAACC,OAAO,CAAC,IAAI,CAACxB,QAAQ,EAAE/C,YAAY,EAAEoE,aAAa,CAAC;EAClE,EAAA;IAEA8B,UAAUA,CAAC1D,MAAM,EAAE;EACjBA,IAAAA,MAAM,GAAG,KAAK,CAAC0D,UAAU,CAAC1D,MAAM,CAAC;MAEjC,IAAI,OAAOA,MAAM,CAACR,SAAS,KAAK,QAAQ,IAAI,CAACmE,kBAAS,CAAC3D,MAAM,CAACR,SAAS,CAAC,IACtE,OAAOQ,MAAM,CAACR,SAAS,CAACoE,qBAAqB,KAAK,UAAU,EAC5D;EACA;QACA,MAAM,IAAI1D,SAAS,CAAC,CAAA,EAAG3D,IAAI,CAACsH,WAAW,EAAE,CAAA,8FAAA,CAAgG,CAAC;EAC5I,IAAA;EAEA,IAAA,OAAO7D,MAAM;EACf,EAAA;EAEAiC,EAAAA,eAAeA,GAAG;EAChB,IAAA,IAAI,IAAI,CAAC6B,OAAO,CAACzE,OAAO,KAAK,QAAQ,EAAE;QACrCmE,WAAW,CAACO,gBAAgB,CAAC,IAAI,CAAC/C,KAAK,EAAE,SAAS,EAAE,QAAQ,CAAC;EAC7D,MAAA;EACF,IAAA;EAEA,IAAA,IAAIgD,gBAAgB,GAAG,IAAI,CAACzD,QAAQ;EAEpC,IAAA,IAAI,IAAI,CAACuD,OAAO,CAACtE,SAAS,KAAK,QAAQ,EAAE;QACvCwE,gBAAgB,GAAG,IAAI,CAAC1D,OAAO;MACjC,CAAC,MAAM,IAAIqD,kBAAS,CAAC,IAAI,CAACG,OAAO,CAACtE,SAAS,CAAC,EAAE;QAC5CwE,gBAAgB,GAAGC,mBAAU,CAAC,IAAI,CAACH,OAAO,CAACtE,SAAS,CAAC;MACvD,CAAC,MAAM,IAAI,OAAO,IAAI,CAACsE,OAAO,CAACtE,SAAS,KAAK,QAAQ,EAAE;EACrDwE,MAAAA,gBAAgB,GAAG,IAAI,CAACF,OAAO,CAACtE,SAAS;EAC3C,IAAA;;EAEA;EACA,IAAA,IAAI,CAAC4D,uBAAuB,CAACY,gBAAgB,CAAC;;EAE9C;EACA,IAAA,IAAI,CAAC7D,gBAAgB,GAAG+D,cAAU,CAChCF,gBAAgB,EAChB,IAAI,CAAChD,KAAK,EACV,MAAM,IAAI,CAACoC,uBAAuB,CAACY,gBAAgB,CACrD,CAAC;EACH,EAAA;EAEA,EAAA,MAAMZ,uBAAuBA,CAACY,gBAAgB,GAAG,IAAI,EAAE;EACrD,IAAA,IAAI,CAAC,IAAI,CAAChD,KAAK,EAAE;EACf,MAAA;EACF,IAAA;MAEA,IAAI,CAACgD,gBAAgB,EAAE;EACrB,MAAA,IAAI,IAAI,CAACF,OAAO,CAACtE,SAAS,KAAK,QAAQ,EAAE;UACvCwE,gBAAgB,GAAG,IAAI,CAAC1D,OAAO;QACjC,CAAC,MAAM,IAAIqD,kBAAS,CAAC,IAAI,CAACG,OAAO,CAACtE,SAAS,CAAC,EAAE;UAC5CwE,gBAAgB,GAAGC,mBAAU,CAAC,IAAI,CAACH,OAAO,CAACtE,SAAS,CAAC;QACvD,CAAC,MAAM,IAAI,OAAO,IAAI,CAACsE,OAAO,CAACtE,SAAS,KAAK,QAAQ,EAAE;EACrDwE,QAAAA,gBAAgB,GAAG,IAAI,CAACF,OAAO,CAACtE,SAAS;EAC3C,MAAA,CAAC,MAAM;UACLwE,gBAAgB,GAAG,IAAI,CAACzD,QAAQ;EAClC,MAAA;EACF,IAAA;EAEA,IAAA,MAAM9B,SAAS,GAAG,IAAI,CAAC0F,aAAa,EAAE;EACtC,IAAA,MAAMC,UAAU,GAAG,IAAI,CAACC,sBAAsB,EAAE;MAChD,MAAM9E,cAAc,GAAG,IAAI,CAAC+E,kBAAkB,CAAC7F,SAAS,EAAE2F,UAAU,CAAC;EAErE,IAAA,MAAM,IAAI,CAACG,sBAAsB,CAC/BP,gBAAgB,EAChB,IAAI,CAAChD,KAAK,EACVzB,cAAc,CAACd,SAAS,EACxBc,cAAc,CAAC6E,UACjB,CAAC;EACH,EAAA;EAEA5C,EAAAA,QAAQA,GAAG;MACT,OAAO,IAAI,CAACR,KAAK,CAACN,SAAS,CAACC,QAAQ,CAAC7C,eAAe,CAAC;EACvD,EAAA;EAEAqG,EAAAA,aAAaA,GAAG;EACd;EACA,IAAA,MAAM1F,SAAS,GAAG,IAAI,CAAC4B,qBAAqB,GAC1CmE,oCAAsB,CAAC,IAAI,CAACnE,qBAAqB,EAAE/B,iBAAiB,CAAC,GACrE,IAAI,CAACwF,OAAO,CAACrF,SAAS;;EAExB;MACA,OAAOD,uBAAuB,CAACC,SAAS,CAAC;EAC3C,EAAA;EAEA4C,EAAAA,0BAA0BA,GAAG;EAC3B,IAAA,IAAI,CAAChB,qBAAqB,GAAGoE,sCAAwB,CAAC,IAAI,CAACX,OAAO,CAACrF,SAAS,EAAEH,iBAAiB,CAAC;MAEhG,IAAI,IAAI,CAAC+B,qBAAqB,EAAE;QAC9B,IAAI,CAACqE,yBAAyB,EAAE;EAClC,IAAA;EACF,EAAA;EAEAA,EAAAA,yBAAyBA,GAAG;MAC1B,IAAI,CAAC1B,2BAA2B,EAAE;EAClC,IAAA,IAAI,CAAC5C,oBAAoB,GAAGuE,uCAAyB,CAAC,MAAM;EAC1D,MAAA,IAAI,IAAI,CAACnD,QAAQ,EAAE,EAAE;UACnB,IAAI,CAAC4B,uBAAuB,EAAE;EAChC,MAAA;EACF,IAAA,CAAC,CAAC;EACJ,EAAA;EAEAJ,EAAAA,2BAA2BA,GAAG;EAC5B4B,IAAAA,wCAA0B,CAAC,IAAI,CAACxE,oBAAoB,CAAC;MACrD,IAAI,CAACA,oBAAoB,GAAG,EAAE;EAChC,EAAA;EAEAyE,EAAAA,UAAUA,GAAG;MACX,MAAM;EAAEvF,MAAAA,MAAM,EAAEwF;OAAc,GAAG,IAAI,CAAChB,OAAO;EAE7C,IAAA,IAAI,OAAOgB,YAAY,KAAK,QAAQ,EAAE;EACpC,MAAA,OAAOA,YAAY,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAACC,KAAK,IAAIC,MAAM,CAACC,QAAQ,CAACF,KAAK,EAAE,EAAE,CAAC,CAAC;EACzE,IAAA;EAEA,IAAA,IAAI,OAAOH,YAAY,KAAK,UAAU,EAAE;EACtC;EACA,MAAA,OAAO,CAAC;UAAErG,SAAS;EAAE2G,QAAAA;EAAM,OAAC,KAAK;UAC/B,MAAMC,MAAM,GAAGP,YAAY,CAAC;YAAErG,SAAS;YAAEe,SAAS,EAAE4F,KAAK,CAAC5F,SAAS;YAAE8F,QAAQ,EAAEF,KAAK,CAACE;EAAS,SAAC,EAAE,IAAI,CAAC/E,QAAQ,CAAC;EAC/G,QAAA,OAAO8E,MAAM;QACf,CAAC;EACH,IAAA;EAEA,IAAA,OAAOP,YAAY;EACrB,EAAA;EAEAT,EAAAA,sBAAsBA,GAAG;EACvB,IAAA,MAAMkB,WAAW,GAAG,IAAI,CAACV,UAAU,EAAE;EAErC,IAAA,MAAMT,UAAU,GAAG;EACjB;EACA9E,IAAAA,UAAM,CACJ,OAAOiG,WAAW,KAAK,UAAU,GAC/BA,WAAW,GACX;EAAEC,MAAAA,QAAQ,EAAED,WAAW,CAAC,CAAC,CAAC,IAAI,CAAC;EAAEE,MAAAA,SAAS,EAAEF,WAAW,CAAC,CAAC,CAAC,IAAI;EAAE,KACpE,CAAC;EACD;EACAG,IAAAA,QAAI,CAAC;EACHC,MAAAA,kBAAkB,EAAE,IAAI,CAACC,sBAAsB;EACjD,KAAC,CAAC;EACF;EACAC,IAAAA,SAAK,CAAC;EACJzG,MAAAA,QAAQ,EAAE,IAAI,CAAC0E,OAAO,CAAC1E,QAAQ,KAAK,iBAAiB,GAAG,mBAAmB,GAAG,IAAI,CAAC0E,OAAO,CAAC1E;EAC7F,KAAC,CAAC,CACH;EAED,IAAA,OAAOgF,UAAU;EACnB,EAAA;EAEAwB,EAAAA,sBAAsBA,GAAG;EACvB;EACA;EACA,IAAA,MAAMnH,SAAS,GAAG,IAAI,CAAC0F,aAAa,EAAE;;EAEtC;EACA,IAAA,MAAM2B,WAAW,GAAG;QAClBC,MAAM,EAAE,CAAC,KAAK,EAAE,cAAc,EAAE,YAAY,EAAE,WAAW,EAAE,SAAS,CAAC;EACrE,MAAA,cAAc,EAAE,CAAC,WAAW,EAAE,YAAY,EAAE,SAAS,CAAC;EACtD,MAAA,YAAY,EAAE,CAAC,SAAS,EAAE,cAAc,EAAE,WAAW,CAAC;QACtDC,GAAG,EAAE,CAAC,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,cAAc,EAAE,YAAY,CAAC;EACrE,MAAA,WAAW,EAAE,CAAC,cAAc,EAAE,SAAS,EAAE,YAAY,CAAC;EACtD,MAAA,SAAS,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,cAAc,CAAC;QACtDC,KAAK,EAAE,CAAC,MAAM,EAAE,aAAa,EAAE,WAAW,EAAE,YAAY,EAAE,UAAU,CAAC;QACrE,aAAa,EAAE,CAAC,YAAY,EAAE,WAAW,EAAE,UAAU,EAAE,WAAW,EAAE,cAAc,CAAC;QACnF,WAAW,EAAE,CAAC,UAAU,EAAE,aAAa,EAAE,YAAY,EAAE,SAAS,EAAE,YAAY,CAAC;QAC/EC,IAAI,EAAE,CAAC,OAAO,EAAE,YAAY,EAAE,UAAU,EAAE,aAAa,EAAE,WAAW,CAAC;QACrE,YAAY,EAAE,CAAC,aAAa,EAAE,UAAU,EAAE,WAAW,EAAE,WAAW,EAAE,cAAc,CAAC;QACnF,UAAU,EAAE,CAAC,WAAW,EAAE,YAAY,EAAE,aAAa,EAAE,SAAS,EAAE,YAAY;OAC/E;EAED,IAAA,OAAOJ,WAAW,CAACrH,SAAS,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;EACrE,EAAA;EAEA6F,EAAAA,kBAAkBA,CAAC7F,SAAS,EAAE2F,UAAU,EAAE;EACxC,IAAA,MAAM+B,aAAa,GAAG;QACpB1H,SAAS;EACT2F,MAAAA;OACD;MAED,OAAO;EACL,MAAA,GAAG+B,aAAa;EAChB,MAAA,GAAGC,gBAAO,CAAC,IAAI,CAACtC,OAAO,CAACvE,cAAc,EAAE,CAAC8G,SAAS,EAAEF,aAAa,CAAC;OACnE;EACH,EAAA;EAEApD,EAAAA,gBAAgBA,GAAG;MACjB,IAAI,IAAI,CAAC5C,gBAAgB,EAAE;QACzB,IAAI,CAACA,gBAAgB,EAAE;QACvB,IAAI,CAACA,gBAAgB,GAAG,IAAI;EAC9B,IAAA;EACF,EAAA;;EAEA;IACA,MAAMoE,sBAAsBA,CAAC/E,SAAS,EAAE8F,QAAQ,EAAE7G,SAAS,EAAE2F,UAAU,EAAE;EACvE,IAAA,IAAI,CAACkB,QAAQ,CAACgB,WAAW,EAAE;EACzB,MAAA,OAAO,IAAI;EACb,IAAA;MAEA,MAAM;QAAEtH,CAAC;QAAEC,CAAC;EAAER,MAAAA,SAAS,EAAE8H;EAAe,KAAC,GAAG,MAAMtG,mBAAe,CAC/DT,SAAS,EACT8F,QAAQ,EACR;QAAE7G,SAAS;EAAE2F,MAAAA;EAAW,KAC1B,CAAC;EAED,IAAA,IAAI,CAACkB,QAAQ,CAACgB,WAAW,EAAE;EACzB,MAAA,OAAO,IAAI;EACb,IAAA;EAEAE,IAAAA,MAAM,CAACC,MAAM,CAACnB,QAAQ,CAACoB,KAAK,EAAE;EAC5BC,MAAAA,QAAQ,EAAE,UAAU;QACpBT,IAAI,EAAE,CAAA,EAAGlH,CAAC,CAAA,EAAA,CAAI;QACdgH,GAAG,EAAE,CAAA,EAAG/G,CAAC,CAAA,EAAA,CAAI;EACb2H,MAAAA,MAAM,EAAE;EACV,KAAC,CAAC;MAEFpD,WAAW,CAACO,gBAAgB,CAACuB,QAAQ,EAAE,WAAW,EAAEiB,cAAc,CAAC;EACnE,IAAA,OAAOA,cAAc;EACvB,EAAA;;EAEA;EACA;EACA;;EAEAjF,EAAAA,sBAAsBA,GAAG;EACvB;EACA,IAAA,IAAI,IAAI,CAACwC,OAAO,CAACrE,cAAc,KAAK,OAAO,IAAI,IAAI,CAACqE,OAAO,CAACrE,cAAc,KAAK,MAAM,EAAE;EACrFqC,MAAAA,YAAY,CAACU,EAAE,CAAC,IAAI,CAACxB,KAAK,EAAE,YAAY,EAAE7C,uBAAuB,EAAE0I,KAAK,IAAI;EAC1E,QAAA,IAAI,CAACC,sBAAsB,CAACD,KAAK,CAAC;EACpC,MAAA,CAAC,CAAC;EAEF/E,MAAAA,YAAY,CAACU,EAAE,CAAC,IAAI,CAACxB,KAAK,EAAE,YAAY,EAAE9C,gBAAgB,EAAE2I,KAAK,IAAI;EACnE,QAAA,IAAI,CAACE,eAAe,CAACF,KAAK,CAAC;EAC7B,MAAA,CAAC,CAAC;;EAEF;QACA/E,YAAY,CAACU,EAAE,CAAC,IAAI,CAACxB,KAAK,EAAE,WAAW,EAAE6F,KAAK,IAAI;EAChD,QAAA,IAAI,CAACG,mBAAmB,CAACH,KAAK,CAAC;EACjC,MAAA,CAAC,CAAC;EACJ,IAAA;;EAEA;EACA,IAAA,IAAI,IAAI,CAAC/C,OAAO,CAACrE,cAAc,KAAK,OAAO,IAAI,IAAI,CAACqE,OAAO,CAACrE,cAAc,KAAK,MAAM,EAAE;EACrFqC,MAAAA,YAAY,CAACU,EAAE,CAAC,IAAI,CAACxB,KAAK,EAAE,OAAO,EAAE7C,uBAAuB,EAAE0I,KAAK,IAAI;EACrE,QAAA,IAAI,CAACI,sBAAsB,CAACJ,KAAK,CAAC;EACpC,MAAA,CAAC,CAAC;EACJ,IAAA;EACF,EAAA;IAEAC,sBAAsBA,CAACD,KAAK,EAAE;MAC5B,MAAM9E,OAAO,GAAG8E,KAAK,CAACK,MAAM,CAAC9E,OAAO,CAACjE,uBAAuB,CAAC;MAC7D,IAAI,CAAC4D,OAAO,EAAE;EACZ,MAAA;EACF,IAAA;EAEA,IAAA,MAAMoF,cAAc,GAAGpF,OAAO,CAACK,OAAO,CAAClE,gBAAgB,CAAC;MACxD,MAAMkJ,OAAO,GAAGnG,cAAc,CAACG,OAAO,CAACnD,aAAa,EAAEkJ,cAAc,CAAC;MACrE,IAAI,CAACC,OAAO,EAAE;EACZ,MAAA;EACF,IAAA;;EAEA;EACA,IAAA,IAAI,CAACC,0BAA0B,CAACD,OAAO,CAAC;;EAExC;EACA,IAAA,IAAI,CAACE,qBAAqB,CAACH,cAAc,CAAC;;EAE1C;MACA,IAAI,CAACI,YAAY,CAACxF,OAAO,EAAEqF,OAAO,EAAED,cAAc,CAAC;EACrD,EAAA;IAEAJ,eAAeA,CAACF,KAAK,EAAE;MACrB,MAAMM,cAAc,GAAGN,KAAK,CAACK,MAAM,CAAC9E,OAAO,CAAClE,gBAAgB,CAAC;MAC7D,MAAMkJ,OAAO,GAAGnG,cAAc,CAACG,OAAO,CAACnD,aAAa,EAAEkJ,cAAc,CAAC;EACrE,IAAA,IAAI,CAACC,OAAO,IAAI,CAAC,IAAI,CAACxG,aAAa,CAAC4G,GAAG,CAACJ,OAAO,CAAC,EAAE;EAChD,MAAA;EACF,IAAA;;EAEA;MACA,IAAI,IAAI,CAACK,sBAAsB,CAACZ,KAAK,EAAEO,OAAO,CAAC,EAAE;EAC/C,MAAA;EACF,IAAA;;EAEA;EACA,IAAA,IAAI,CAACM,qBAAqB,CAACN,OAAO,EAAED,cAAc,CAAC;EACrD,EAAA;IAEAF,sBAAsBA,CAACJ,KAAK,EAAE;MAC5B,MAAM9E,OAAO,GAAG8E,KAAK,CAACK,MAAM,CAAC9E,OAAO,CAACjE,uBAAuB,CAAC;MAC7D,IAAI,CAAC4D,OAAO,EAAE;EACZ,MAAA;EACF,IAAA;MAEA8E,KAAK,CAACc,cAAc,EAAE;MACtBd,KAAK,CAACe,eAAe,EAAE;EAEvB,IAAA,MAAMT,cAAc,GAAGpF,OAAO,CAACK,OAAO,CAAClE,gBAAgB,CAAC;MACxD,MAAMkJ,OAAO,GAAGnG,cAAc,CAACG,OAAO,CAACnD,aAAa,EAAEkJ,cAAc,CAAC;MACrE,IAAI,CAACC,OAAO,EAAE;EACZ,MAAA;EACF,IAAA;;EAEA;MACA,IAAI,IAAI,CAACxG,aAAa,CAAC4G,GAAG,CAACJ,OAAO,CAAC,EAAE;EACnC,MAAA,IAAI,CAACS,aAAa,CAACT,OAAO,EAAED,cAAc,CAAC;EAC7C,IAAA,CAAC,MAAM;EACL,MAAA,IAAI,CAACG,qBAAqB,CAACH,cAAc,CAAC;QAC1C,IAAI,CAACI,YAAY,CAACxF,OAAO,EAAEqF,OAAO,EAAED,cAAc,CAAC;EACrD,IAAA;EACF,EAAA;EAEAI,EAAAA,YAAYA,CAACxF,OAAO,EAAEqF,OAAO,EAAED,cAAc,EAAE;MAC7C,IAAI,IAAI,CAACvG,aAAa,CAAC4G,GAAG,CAACJ,OAAO,CAAC,EAAE;EACnC,MAAA;EACF,IAAA;;EAEA;EACArF,IAAAA,OAAO,CAACY,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;EAC7CZ,IAAAA,OAAO,CAACY,YAAY,CAAC,eAAe,EAAE,MAAM,CAAC;;EAE7C;EACAyE,IAAAA,OAAO,CAAC1G,SAAS,CAACkC,GAAG,CAAC9E,eAAe,CAAC;EACtCqJ,IAAAA,cAAc,CAACzG,SAAS,CAACkC,GAAG,CAAC9E,eAAe,CAAC;;EAE7C;MACA,MAAMgK,OAAO,GAAG,IAAI,CAACC,sBAAsB,CAAChG,OAAO,EAAEqF,OAAO,EAAED,cAAc,CAAC;MAC7E,IAAI,CAACvG,aAAa,CAACoH,GAAG,CAACZ,OAAO,EAAEU,OAAO,CAAC;;EAExC;EACAhG,IAAAA,YAAY,CAACU,EAAE,CAAC4E,OAAO,EAAE,YAAY,EAAE,MAAM;EAC3C,MAAA,IAAI,CAACC,0BAA0B,CAACD,OAAO,CAAC;EAC1C,IAAA,CAAC,CAAC;EACJ,EAAA;EAEAS,EAAAA,aAAaA,CAACT,OAAO,EAAED,cAAc,EAAE;MACrC,IAAI,CAAC,IAAI,CAACvG,aAAa,CAAC4G,GAAG,CAACJ,OAAO,CAAC,EAAE;EACpC,MAAA;EACF,IAAA;;EAEA;EACA,IAAA,MAAMa,cAAc,GAAGhH,cAAc,CAACiH,IAAI,CAAC,CAAA,EAAGhK,gBAAgB,CAAA,CAAA,EAAID,aAAa,CAAA,CAAA,EAAIH,eAAe,CAAA,CAAE,EAAEsJ,OAAO,CAAC;EAC9G,IAAA,KAAK,MAAMe,MAAM,IAAIF,cAAc,EAAE;EACnC,MAAA,MAAMG,aAAa,GAAGD,MAAM,CAAC/F,OAAO,CAAClE,gBAAgB,CAAC;EACtD,MAAA,IAAI,CAAC2J,aAAa,CAACM,MAAM,EAAEC,aAAa,CAAC;EAC3C,IAAA;;EAEA;MACA,MAAMrG,OAAO,GAAGd,cAAc,CAACG,OAAO,CAACjD,uBAAuB,EAAEgJ,cAAc,CAAC;;EAE/E;MACA,MAAMW,OAAO,GAAG,IAAI,CAAClH,aAAa,CAACyH,GAAG,CAACjB,OAAO,CAAC;EAC/C,IAAA,IAAIU,OAAO,EAAE;EACXA,MAAAA,OAAO,EAAE;EACX,IAAA;EAEA,IAAA,IAAI,CAAClH,aAAa,CAAC0H,MAAM,CAAClB,OAAO,CAAC;;EAElC;EACAtF,IAAAA,YAAY,CAACwB,GAAG,CAAC8D,OAAO,EAAE,YAAY,CAAC;;EAEvC;EACA,IAAA,IAAIrF,OAAO,EAAE;EACXA,MAAAA,OAAO,CAACY,YAAY,CAAC,eAAe,EAAE,OAAO,CAAC;EAChD,IAAA;EAEAyE,IAAAA,OAAO,CAAC1G,SAAS,CAAC6C,MAAM,CAACzF,eAAe,CAAC;EACzCqJ,IAAAA,cAAc,CAACzG,SAAS,CAAC6C,MAAM,CAACzF,eAAe,CAAC;;EAEhD;EACAsJ,IAAAA,OAAO,CAACV,KAAK,CAACC,QAAQ,GAAG,EAAE;EAC3BS,IAAAA,OAAO,CAACV,KAAK,CAACR,IAAI,GAAG,EAAE;EACvBkB,IAAAA,OAAO,CAACV,KAAK,CAACV,GAAG,GAAG,EAAE;EACtBoB,IAAAA,OAAO,CAACV,KAAK,CAACE,MAAM,GAAG,EAAE;EAC3B,EAAA;EAEA3D,EAAAA,iBAAiBA,GAAG;MAClB,KAAK,MAAM,CAACmE,OAAO,CAAC,IAAI,IAAI,CAACxG,aAAa,EAAE;EAC1C,MAAA,MAAMuG,cAAc,GAAGC,OAAO,CAAChF,OAAO,CAAClE,gBAAgB,CAAC;EACxD,MAAA,IAAI,CAAC2J,aAAa,CAACT,OAAO,EAAED,cAAc,CAAC;EAC7C,IAAA;EACF,EAAA;IAEAG,qBAAqBA,CAACiB,qBAAqB,EAAE;EAC3C;EACA,IAAA,MAAMC,MAAM,GAAGD,qBAAqB,CAAC/H,UAAU;EAC/C,IAAA,MAAMiI,eAAe,GAAGxH,cAAc,CAACiH,IAAI,CAAC,CAAA,EAAGhK,gBAAgB,CAAA,GAAA,EAAMD,aAAa,CAAA,CAAA,EAAIH,eAAe,CAAA,CAAE,EAAE0K,MAAM,CAAC;EAEhH,IAAA,KAAK,MAAME,WAAW,IAAID,eAAe,EAAE;EACzC,MAAA,MAAME,cAAc,GAAGD,WAAW,CAACtG,OAAO,CAAClE,gBAAgB,CAAC;QAC5D,IAAIyK,cAAc,KAAKJ,qBAAqB,EAAE;EAC5C,QAAA,IAAI,CAACV,aAAa,CAACa,WAAW,EAAEC,cAAc,CAAC;EACjD,MAAA;EACF,IAAA;EACF,EAAA;EAEAZ,EAAAA,sBAAsBA,CAAChG,OAAO,EAAEqF,OAAO,EAAED,cAAc,EAAE;MACvD,MAAMnD,gBAAgB,GAAGmD,cAAc;EACvC,IAAA,MAAM1I,SAAS,GAAGD,uBAAuB,CAACD,iBAAiB,CAAC;EAC5D,IAAA,MAAM6F,UAAU,GAAG,CACjB9E,UAAM,CAAC;EAAEkG,MAAAA,QAAQ,EAAE,CAAC;EAAEC,MAAAA,SAAS,EAAE;OAAI,CAAC,EACtCC,QAAI,CAAC;EACHC,MAAAA,kBAAkB,EAAE,CAClBnH,uBAAuB,CAAC,aAAa,CAAC,EACtCA,uBAAuB,CAAC,SAAS,CAAC,EAClCA,uBAAuB,CAAC,WAAW,CAAC;OAEvC,CAAC,EACFqH,SAAK,CAAC;EAAE+C,MAAAA,OAAO,EAAE;EAAE,KAAC,CAAC,CACtB;EAED,IAAA,MAAMC,cAAc,GAAGA,MAAM,IAAI,CAACtE,sBAAsB,CAACP,gBAAgB,EAAEoD,OAAO,EAAE3I,SAAS,EAAE2F,UAAU,CAAC;EAE1GyE,IAAAA,cAAc,EAAE;EAChB,IAAA,OAAO3E,cAAU,CAACF,gBAAgB,EAAEoD,OAAO,EAAEyB,cAAc,CAAC;EAC9D,EAAA;EAEAnB,EAAAA,qBAAqBA,CAACN,OAAO,EAAED,cAAc,EAAE;EAC7C,IAAA,IAAI,CAACE,0BAA0B,CAACD,OAAO,CAAC;EAExC,IAAA,MAAM0B,SAAS,GAAGC,UAAU,CAAC,MAAM;EACjC,MAAA,IAAI,CAAClB,aAAa,CAACT,OAAO,EAAED,cAAc,CAAC;EAC3C,MAAA,IAAI,CAACrG,qBAAqB,CAACwH,MAAM,CAAClB,OAAO,CAAC;EAC5C,IAAA,CAAC,EAAE,IAAI,CAACtD,OAAO,CAACpE,YAAY,CAAC;MAE7B,IAAI,CAACoB,qBAAqB,CAACkH,GAAG,CAACZ,OAAO,EAAE0B,SAAS,CAAC;EACpD,EAAA;IAEAzB,0BAA0BA,CAACD,OAAO,EAAE;MAClC,MAAM0B,SAAS,GAAG,IAAI,CAAChI,qBAAqB,CAACuH,GAAG,CAACjB,OAAO,CAAC;EACzD,IAAA,IAAI0B,SAAS,EAAE;QACbE,YAAY,CAACF,SAAS,CAAC;EACvB,MAAA,IAAI,CAAChI,qBAAqB,CAACwH,MAAM,CAAClB,OAAO,CAAC;EAC5C,IAAA;EACF,EAAA;EAEAlE,EAAAA,wBAAwBA,GAAG;MACzB,KAAK,MAAM4F,SAAS,IAAI,IAAI,CAAChI,qBAAqB,CAACmI,MAAM,EAAE,EAAE;QAC3DD,YAAY,CAACF,SAAS,CAAC;EACzB,IAAA;EAEA,IAAA,IAAI,CAAChI,qBAAqB,CAACoI,KAAK,EAAE;EACpC,EAAA;;EAEA;EACA;EACA;;IAEAlC,mBAAmBA,CAACH,KAAK,EAAE;MACzB,IAAI,CAAC9F,gBAAgB,GAAG;QACtB/B,CAAC,EAAE6H,KAAK,CAACsC,OAAO;QAChBlK,CAAC,EAAE4H,KAAK,CAACuC,OAAO;EAChBC,MAAAA,SAAS,EAAEC,IAAI,CAACC,GAAG;OACpB;EACH,EAAA;EAEA9B,EAAAA,sBAAsBA,CAACZ,KAAK,EAAEO,OAAO,EAAE;EACrC,IAAA,IAAI,CAAC,IAAI,CAACrG,gBAAgB,EAAE;EAC1B,MAAA,OAAO,KAAK;EACd,IAAA;EAEA,IAAA,MAAMyI,WAAW,GAAGpC,OAAO,CAACxD,qBAAqB,EAAE;EACnD,IAAA,MAAM6F,UAAU,GAAG;QAAEzK,CAAC,EAAE6H,KAAK,CAACsC,OAAO;QAAElK,CAAC,EAAE4H,KAAK,CAACuC;OAAS;EACzD,IAAA,MAAMM,OAAO,GAAG;EAAE1K,MAAAA,CAAC,EAAE,IAAI,CAAC+B,gBAAgB,CAAC/B,CAAC;EAAEC,MAAAA,CAAC,EAAE,IAAI,CAAC8B,gBAAgB,CAAC9B;OAAG;;EAE1E;EACA;EACA,IAAA,MAAM0K,KAAK,GAAGjL,cAAK,EAAE;;EAErB;MACA,MAAMkL,OAAO,GAAGD,KAAK,GAAGH,WAAW,CAACvD,KAAK,GAAGuD,WAAW,CAACtD,IAAI;EAC5D,IAAA,MAAM2D,SAAS,GAAG;EAAE7K,MAAAA,CAAC,EAAE4K,OAAO;QAAE3K,CAAC,EAAEuK,WAAW,CAACxD;OAAK;EACpD,IAAA,MAAM8D,YAAY,GAAG;EAAE9K,MAAAA,CAAC,EAAE4K,OAAO;QAAE3K,CAAC,EAAEuK,WAAW,CAACzD;OAAQ;;EAE1D;EACA;MACA,OAAO,IAAI,CAACgE,gBAAgB,CAACN,UAAU,EAAEC,OAAO,EAAEG,SAAS,EAAEC,YAAY,CAAC;EAC5E,EAAA;IAEAC,gBAAgBA,CAACC,KAAK,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE;EAClC;MACA,MAAMC,EAAE,GAAGxL,YAAY,CAACoL,KAAK,EAAEC,EAAE,EAAEC,EAAE,CAAC;MACtC,MAAMG,EAAE,GAAGzL,YAAY,CAACoL,KAAK,EAAEE,EAAE,EAAEC,EAAE,CAAC;MACtC,MAAMG,EAAE,GAAG1L,YAAY,CAACoL,KAAK,EAAEG,EAAE,EAAEF,EAAE,CAAC;EAEtC,IAAA,MAAMM,MAAM,GAAIH,EAAE,GAAG,CAAC,IAAMC,EAAE,GAAG,CAAE,IAAKC,EAAE,GAAG,CAAE;EAC/C,IAAA,MAAME,MAAM,GAAIJ,EAAE,GAAG,CAAC,IAAMC,EAAE,GAAG,CAAE,IAAKC,EAAE,GAAG,CAAE;EAE/C,IAAA,OAAO,EAAEC,MAAM,IAAIC,MAAM,CAAC;EAC5B,EAAA;;EAEA;EACA;EACA;;EAEAC,EAAAA,eAAeA,CAAC;MAAEC,GAAG;EAAExD,IAAAA;EAAO,GAAC,EAAE;EAC/B;EACA;MACA,MAAMyD,WAAW,GAAGzD,MAAM,CAAC9E,OAAO,CAACnE,aAAa,CAAC,IAAI,IAAI,CAAC+C,KAAK;MAC/D,MAAM4J,KAAK,GAAG3J,cAAc,CAACiH,IAAI,CAAC,CAAA,cAAA,EAAiB7J,sBAAsB,CAAA,WAAA,EAAcA,sBAAsB,CAAA,CAAE,EAAEsM,WAAW,CAAC,CAC1HE,MAAM,CAAC9K,OAAO,IAAI+K,kBAAS,CAAC/K,OAAO,CAAC,CAAC;EAExC,IAAA,IAAI,CAAC6K,KAAK,CAACG,MAAM,EAAE;EACjB,MAAA;EACF,IAAA;;EAEA;EACA;MACAC,6BAAoB,CAACJ,KAAK,EAAE1D,MAAM,EAAEwD,GAAG,KAAK5N,cAAc,EAAE,CAAC8N,KAAK,CAACK,QAAQ,CAAC/D,MAAM,CAAC,CAAC,CAACxE,KAAK,EAAE;EAC9F,EAAA;IAEAwI,qBAAqBA,CAACrE,KAAK,EAAE;MAC3B,MAAM;QAAE6D,GAAG;EAAExD,MAAAA;EAAO,KAAC,GAAGL,KAAK;EAC7B,IAAA,MAAM8C,KAAK,GAAGjL,cAAK,EAAE;;EAErB;EACA,IAAA,MAAMyM,QAAQ,GAAGxB,KAAK,GAAG5M,cAAc,GAAGC,eAAe;EACzD,IAAA,MAAMoO,OAAO,GAAGzB,KAAK,GAAG3M,eAAe,GAAGD,cAAc;;EAExD;EACA,IAAA,MAAMoK,cAAc,GAAGD,MAAM,CAAC9E,OAAO,CAAClE,gBAAgB,CAAC;MACvD,MAAMmN,gBAAgB,GAAGlE,cAAc,IAAID,MAAM,CAACoE,OAAO,CAACnN,uBAAuB,CAAC;;EAElF;MACA,IAAI,CAACuM,GAAG,KAAKvN,SAAS,IAAIuN,GAAG,KAAKtN,SAAS,KAAKiO,gBAAgB,EAAE;QAChExE,KAAK,CAACc,cAAc,EAAE;QACtBd,KAAK,CAACe,eAAe,EAAE;QAEvB,MAAMR,OAAO,GAAGnG,cAAc,CAACG,OAAO,CAACnD,aAAa,EAAEkJ,cAAc,CAAC;EACrE,MAAA,IAAIC,OAAO,EAAE;EACX,QAAA,IAAI,CAACE,qBAAqB,CAACH,cAAc,CAAC;UAC1C,IAAI,CAACI,YAAY,CAACL,MAAM,EAAEE,OAAO,EAAED,cAAc,CAAC;EAClD;EACAoE,QAAAA,qBAAqB,CAAC,MAAM;YAC1B,MAAMC,SAAS,GAAGvK,cAAc,CAACG,OAAO,CAAC/C,sBAAsB,EAAE+I,OAAO,CAAC;EACzE,UAAA,IAAIoE,SAAS,EAAE;cACbA,SAAS,CAAC9I,KAAK,EAAE;EACnB,UAAA;EACF,QAAA,CAAC,CAAC;EACJ,MAAA;EAEA,MAAA,OAAO,IAAI;EACb,IAAA;;EAEA;EACA,IAAA,IAAIgI,GAAG,KAAKS,QAAQ,IAAIE,gBAAgB,EAAE;QACxCxE,KAAK,CAACc,cAAc,EAAE;QACtBd,KAAK,CAACe,eAAe,EAAE;QAEvB,MAAMR,OAAO,GAAGnG,cAAc,CAACG,OAAO,CAACnD,aAAa,EAAEkJ,cAAc,CAAC;EACrE,MAAA,IAAIC,OAAO,EAAE;EACX,QAAA,IAAI,CAACE,qBAAqB,CAACH,cAAc,CAAC;UAC1C,IAAI,CAACI,YAAY,CAACL,MAAM,EAAEE,OAAO,EAAED,cAAc,CAAC;EAClD;EACAoE,QAAAA,qBAAqB,CAAC,MAAM;YAC1B,MAAMC,SAAS,GAAGvK,cAAc,CAACG,OAAO,CAAC/C,sBAAsB,EAAE+I,OAAO,CAAC;EACzE,UAAA,IAAIoE,SAAS,EAAE;cACbA,SAAS,CAAC9I,KAAK,EAAE;EACnB,UAAA;EACF,QAAA,CAAC,CAAC;EACJ,MAAA;EAEA,MAAA,OAAO,IAAI;EACb,IAAA;;EAEA;MACA,IAAIgI,GAAG,KAAKU,OAAO,EAAE;EACnB,MAAA,MAAMT,WAAW,GAAGzD,MAAM,CAAC9E,OAAO,CAACnE,aAAa,CAAC;EACjD,MAAA,MAAMwN,oBAAoB,GAAGd,WAAW,EAAEvI,OAAO,CAAClE,gBAAgB,CAAC;EAEnE,MAAA,IAAIuN,oBAAoB,EAAE;UACxB5E,KAAK,CAACc,cAAc,EAAE;UACtBd,KAAK,CAACe,eAAe,EAAE;UAEvB,MAAM8D,aAAa,GAAGzK,cAAc,CAACG,OAAO,CAACjD,uBAAuB,EAAEsN,oBAAoB,CAAC;EAC3F,QAAA,IAAI,CAAC5D,aAAa,CAAC8C,WAAW,EAAEc,oBAAoB,CAAC;EACrD,QAAA,IAAIC,aAAa,EAAE;YACjBA,aAAa,CAAChJ,KAAK,EAAE;EACvB,QAAA;EAEA,QAAA,OAAO,IAAI;EACb,MAAA;EACF,IAAA;;EAEA;EACA,IAAA,IAAIgI,GAAG,KAAKzN,QAAQ,IAAIyN,GAAG,KAAKxN,OAAO,EAAE;QACvC2J,KAAK,CAACc,cAAc,EAAE;QACtBd,KAAK,CAACe,eAAe,EAAE;EAEvB,MAAA,MAAM+C,WAAW,GAAGzD,MAAM,CAAC9E,OAAO,CAACnE,aAAa,CAAC;QACjD,MAAM2M,KAAK,GAAG3J,cAAc,CAACiH,IAAI,CAAC,CAAA,cAAA,EAAiB7J,sBAAsB,CAAA,WAAA,EAAcA,sBAAsB,CAAA,CAAE,EAAEsM,WAAW,CAAC,CAC1HE,MAAM,CAAC9K,OAAO,IAAI+K,kBAAS,CAAC/K,OAAO,CAAC,CAAC;QAExC,IAAI6K,KAAK,CAACG,MAAM,EAAE;EAChB,QAAA,MAAMY,UAAU,GAAGjB,GAAG,KAAKzN,QAAQ,GAAG2N,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK,CAACA,KAAK,CAACG,MAAM,GAAG,CAAC,CAAC;UACxEY,UAAU,CAACjJ,KAAK,EAAE;EACpB,MAAA;EAEA,MAAA,OAAO,IAAI;EACb,IAAA;EAEA,IAAA,OAAO,KAAK;EACd,EAAA;IAEA,OAAOkJ,UAAUA,CAAC/E,KAAK,EAAE;EACvB,IAAA,IAAIA,KAAK,CAACgF,MAAM,KAAKxO,kBAAkB,IAAKwJ,KAAK,CAACiF,IAAI,KAAK,OAAO,IAAIjF,KAAK,CAAC6D,GAAG,KAAK9N,OAAQ,EAAE;EAC5F,MAAA;EACF,IAAA;EAEA,IAAA,MAAMmP,WAAW,GAAG9K,cAAc,CAACiH,IAAI,CAAClK,0BAA0B,CAAC;EAEnE,IAAA,KAAK,MAAMuD,MAAM,IAAIwK,WAAW,EAAE;EAChC,MAAA,MAAMC,OAAO,GAAGpM,QAAQ,CAACqM,WAAW,CAAC1K,MAAM,CAAC;QAC5C,IAAI,CAACyK,OAAO,IAAIA,OAAO,CAAClI,OAAO,CAAC3E,SAAS,KAAK,KAAK,EAAE;EACnD,QAAA;EACF,MAAA;EAEA,MAAA,MAAM+M,YAAY,GAAGrF,KAAK,CAACqF,YAAY,EAAE;QACzC,MAAMC,YAAY,GAAGD,YAAY,CAACjB,QAAQ,CAACe,OAAO,CAAChL,KAAK,CAAC;EACzD,MAAA,IACEkL,YAAY,CAACjB,QAAQ,CAACe,OAAO,CAACzL,QAAQ,CAAC,IACtCyL,OAAO,CAAClI,OAAO,CAAC3E,SAAS,KAAK,QAAQ,IAAI,CAACgN,YAAa,IACxDH,OAAO,CAAClI,OAAO,CAAC3E,SAAS,KAAK,SAAS,IAAIgN,YAAa,EACzD;EACA,QAAA;EACF,MAAA;;EAEA;EACA,MAAA,IAAIH,OAAO,CAAChL,KAAK,CAACL,QAAQ,CAACkG,KAAK,CAACK,MAAM,CAAC,KAAML,KAAK,CAACiF,IAAI,KAAK,OAAO,IAAIjF,KAAK,CAAC6D,GAAG,KAAK9N,OAAO,IAAK,oCAAoC,CAACwP,IAAI,CAACvF,KAAK,CAACK,MAAM,CAACmF,OAAO,CAAC,CAAC,EAAE;EAClK,QAAA;EACF,MAAA;EAEA,MAAA,MAAMzK,aAAa,GAAG;UAAEA,aAAa,EAAEoK,OAAO,CAACzL;SAAU;EAEzD,MAAA,IAAIsG,KAAK,CAACiF,IAAI,KAAK,OAAO,EAAE;UAC1BlK,aAAa,CAAC0K,UAAU,GAAGzF,KAAK;EAClC,MAAA;EAEAmF,MAAAA,OAAO,CAACnJ,aAAa,CAACjB,aAAa,CAAC;EACtC,IAAA;EACF,EAAA;IAEA,OAAO2K,qBAAqBA,CAAC1F,KAAK,EAAE;EAClC;MACA,MAAM2F,OAAO,GAAG,iBAAiB,CAACJ,IAAI,CAACvF,KAAK,CAACK,MAAM,CAACmF,OAAO,CAAC;EAC5D,IAAA,MAAMI,aAAa,GAAG5F,KAAK,CAAC6D,GAAG,KAAK/N,UAAU;EAC9C,IAAA,MAAM+P,eAAe,GAAG,CAAC7P,YAAY,EAAEC,cAAc,CAAC,CAACmO,QAAQ,CAACpE,KAAK,CAAC6D,GAAG,CAAC;EAC1E,IAAA,MAAMiC,kBAAkB,GAAG,CAAC5P,cAAc,EAAEC,eAAe,CAAC,CAACiO,QAAQ,CAACpE,KAAK,CAAC6D,GAAG,CAAC;EAChF,IAAA,MAAMkC,gBAAgB,GAAG,CAAC3P,QAAQ,EAAEC,OAAO,CAAC,CAAC+N,QAAQ,CAACpE,KAAK,CAAC6D,GAAG,CAAC;EAChE,IAAA,MAAMmC,mBAAmB,GAAG,CAAC1P,SAAS,EAAEC,SAAS,CAAC,CAAC6N,QAAQ,CAACpE,KAAK,CAAC6D,GAAG,CAAC;;EAEtE;MACA,MAAMW,gBAAgB,GAAGxE,KAAK,CAACK,MAAM,CAACoE,OAAO,CAACnN,uBAAuB,CAAC;EAEtE,IAAA,IAAI,CAACuO,eAAe,IAAI,CAACD,aAAa,IAAI,CAACE,kBAAkB,IAAI,CAACC,gBAAgB,IAC9E,EAAEC,mBAAmB,IAAIxB,gBAAgB,CAAC,EAAE;EAC9C,MAAA;EACF,IAAA;EAEA,IAAA,IAAImB,OAAO,IAAI,CAACC,aAAa,EAAE;EAC7B,MAAA;EACF,IAAA;;EAEA;MACA,MAAMK,eAAe,GAAG,IAAI,CAACxB,OAAO,CAACvN,oBAAoB,CAAC,GACxD,IAAI,GACHkD,cAAc,CAACE,IAAI,CAAC,IAAI,EAAEpD,oBAAoB,CAAC,CAAC,CAAC,CAAC,IACjDkD,cAAc,CAACC,IAAI,CAAC,IAAI,EAAEnD,oBAAoB,CAAC,CAAC,CAAC,CAAC,IAClDkD,cAAc,CAACG,OAAO,CAACrD,oBAAoB,EAAE8I,KAAK,CAACkG,cAAc,CAACvM,UAAU,CAAE;MAElF,IAAI,CAACsM,eAAe,EAAE;EACpB,MAAA;EACF,IAAA;EAEA,IAAA,MAAME,QAAQ,GAAGpN,QAAQ,CAACqN,mBAAmB,CAACH,eAAe,CAAC;;EAE9D;EACA,IAAA,IAAI,CAACH,kBAAkB,IAAIC,gBAAgB,IAAKC,mBAAmB,IAAIxB,gBAAiB,KAAK2B,QAAQ,CAAC9B,qBAAqB,CAACrE,KAAK,CAAC,EAAE;EAClI,MAAA;EACF,IAAA;;EAEA;EACA,IAAA,IAAI6F,eAAe,EAAE;QACnB7F,KAAK,CAACc,cAAc,EAAE;QACtBd,KAAK,CAACe,eAAe,EAAE;QACvBoF,QAAQ,CAACtL,IAAI,EAAE;EACfsL,MAAAA,QAAQ,CAACvC,eAAe,CAAC5D,KAAK,CAAC;EAC/B,MAAA;EACF,IAAA;;EAEA;EACA,IAAA,IAAI4F,aAAa,IAAIO,QAAQ,CAACxL,QAAQ,EAAE,EAAE;QACxCqF,KAAK,CAACc,cAAc,EAAE;QACtBd,KAAK,CAACe,eAAe,EAAE;;EAEvB;QACA,MAAM+C,WAAW,GAAG9D,KAAK,CAACK,MAAM,CAAC9E,OAAO,CAACnE,aAAa,CAAC;EACvD,MAAA,MAAMwN,oBAAoB,GAAGd,WAAW,EAAEvI,OAAO,CAAClE,gBAAgB,CAAC;QAEnE,IAAIuN,oBAAoB,IAAIuB,QAAQ,CAACpM,aAAa,CAACsM,IAAI,GAAG,CAAC,EAAE;UAC3D,MAAMxB,aAAa,GAAGzK,cAAc,CAACG,OAAO,CAACjD,uBAAuB,EAAEsN,oBAAoB,CAAC;EAC3FuB,QAAAA,QAAQ,CAACnF,aAAa,CAAC8C,WAAW,EAAEc,oBAAoB,CAAC;EACzD,QAAA,IAAIC,aAAa,EAAE;YACjBA,aAAa,CAAChJ,KAAK,EAAE;EACvB,QAAA;EAEA,QAAA;EACF,MAAA;;EAEA;QACAsK,QAAQ,CAACvL,IAAI,EAAE;QACfqL,eAAe,CAACpK,KAAK,EAAE;EACzB,IAAA;EACF,EAAA;EACF;;EAEA;EACA;EACA;;EAEAZ,YAAY,CAACU,EAAE,CAACN,QAAQ,EAAEtE,sBAAsB,EAAEG,oBAAoB,EAAE6B,QAAQ,CAAC2M,qBAAqB,CAAC;EACvGzK,YAAY,CAACU,EAAE,CAACN,QAAQ,EAAEtE,sBAAsB,EAAEK,aAAa,EAAE2B,QAAQ,CAAC2M,qBAAqB,CAAC;EAChGzK,YAAY,CAACU,EAAE,CAACN,QAAQ,EAAEvE,oBAAoB,EAAEiC,QAAQ,CAACgM,UAAU,CAAC;EACpE9J,YAAY,CAACU,EAAE,CAACN,QAAQ,EAAErE,oBAAoB,EAAE+B,QAAQ,CAACgM,UAAU,CAAC;EACpE9J,YAAY,CAACU,EAAE,CAACN,QAAQ,EAAEvE,oBAAoB,EAAEI,oBAAoB,EAAE,UAAU8I,KAAK,EAAE;IACrFA,KAAK,CAACc,cAAc,EAAE;IACtB/H,QAAQ,CAACqN,mBAAmB,CAAC,IAAI,CAAC,CAAC1L,MAAM,EAAE;EAC7C,CAAC,CAAC;;;;;;;;"}