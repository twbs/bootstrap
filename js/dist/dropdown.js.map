{"version":3,"file":"dropdown.js","sources":["../src/dropdown.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap dropdown.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport {\n  computePosition,\n  flip,\n  shift,\n  offset,\n  autoUpdate\n} from '@floating-ui/dom'\nimport BaseComponent from './base-component.js'\nimport EventHandler from './dom/event-handler.js'\nimport Manipulator from './dom/manipulator.js'\nimport SelectorEngine from './dom/selector-engine.js'\nimport {\n  execute,\n  getElement,\n  getNextActiveElement,\n  isDisabled,\n  isElement,\n  isRTL,\n  isVisible,\n  noop\n} from './util/index.js'\nimport {\n  parseResponsivePlacement,\n  getResponsivePlacement,\n  createBreakpointListeners,\n  disposeBreakpointListeners\n} from './util/floating-ui.js'\n\n/**\n * Constants\n */\n\nconst NAME = 'dropdown'\nconst DATA_KEY = 'bs.dropdown'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DATA_API_KEY = '.data-api'\n\nconst ESCAPE_KEY = 'Escape'\nconst TAB_KEY = 'Tab'\nconst ARROW_UP_KEY = 'ArrowUp'\nconst ARROW_DOWN_KEY = 'ArrowDown'\nconst RIGHT_MOUSE_BUTTON = 2 // MouseEvent.button value for the secondary button, usually the right button\n\nconst EVENT_HIDE = `hide${EVENT_KEY}`\nconst EVENT_HIDDEN = `hidden${EVENT_KEY}`\nconst EVENT_SHOW = `show${EVENT_KEY}`\nconst EVENT_SHOWN = `shown${EVENT_KEY}`\nconst EVENT_CLICK_DATA_API = `click${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYDOWN_DATA_API = `keydown${EVENT_KEY}${DATA_API_KEY}`\nconst EVENT_KEYUP_DATA_API = `keyup${EVENT_KEY}${DATA_API_KEY}`\n\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)'\nconst SELECTOR_DATA_TOGGLE_SHOWN = `${SELECTOR_DATA_TOGGLE}.${CLASS_NAME_SHOW}`\nconst SELECTOR_MENU = '.dropdown-menu'\nconst SELECTOR_NAVBAR_NAV = '.navbar-nav'\nconst SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'\n\n// Default placement with RTL support\nconst DEFAULT_PLACEMENT = isRTL() ? 'bottom-end' : 'bottom-start'\n\nconst Default = {\n  autoClose: true,\n  boundary: 'clippingParents',\n  display: 'dynamic',\n  offset: [0, 2],\n  floatingConfig: null,\n  placement: DEFAULT_PLACEMENT,\n  reference: 'toggle'\n}\n\nconst DefaultType = {\n  autoClose: '(boolean|string)',\n  boundary: '(string|element)',\n  display: 'string',\n  offset: '(array|string|function)',\n  floatingConfig: '(null|object|function)',\n  placement: 'string',\n  reference: '(string|element|object)'\n}\n\n/**\n * Class definition\n */\n\nclass Dropdown extends BaseComponent {\n  constructor(element, config) {\n    if (typeof computePosition === 'undefined') {\n      throw new TypeError('Bootstrap\\'s dropdowns require Floating UI (https://floating-ui.com)')\n    }\n\n    super(element, config)\n\n    this._floatingCleanup = null\n    this._mediaQueryListeners = []\n    this._responsivePlacements = null\n    this._parent = this._element.parentNode // dropdown wrapper\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    this._menu = SelectorEngine.next(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.prev(this._element, SELECTOR_MENU)[0] ||\n      SelectorEngine.findOne(SELECTOR_MENU, this._parent)\n\n    // Parse responsive placements on init\n    this._parseResponsivePlacements()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  // Public\n  toggle() {\n    return this._isShown() ? this.hide() : this.show()\n  }\n\n  show() {\n    if (isDisabled(this._element) || this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    const showEvent = EventHandler.trigger(this._element, EVENT_SHOW, relatedTarget)\n\n    if (showEvent.defaultPrevented) {\n      return\n    }\n\n    this._createFloating()\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement && !this._parent.closest(SELECTOR_NAVBAR_NAV)) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    this._element.focus()\n    this._element.setAttribute('aria-expanded', true)\n\n    this._menu.classList.add(CLASS_NAME_SHOW)\n    this._element.classList.add(CLASS_NAME_SHOW)\n    EventHandler.trigger(this._element, EVENT_SHOWN, relatedTarget)\n  }\n\n  hide() {\n    if (isDisabled(this._element) || !this._isShown()) {\n      return\n    }\n\n    const relatedTarget = {\n      relatedTarget: this._element\n    }\n\n    this._completeHide(relatedTarget)\n  }\n\n  dispose() {\n    this._disposeFloating()\n    this._disposeMediaQueryListeners()\n    super.dispose()\n  }\n\n  update() {\n    if (this._floatingCleanup) {\n      this._updateFloatingPosition()\n    }\n  }\n\n  // Private\n  _completeHide(relatedTarget) {\n    const hideEvent = EventHandler.trigger(this._element, EVENT_HIDE, relatedTarget)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._disposeFloating()\n\n    this._menu.classList.remove(CLASS_NAME_SHOW)\n    this._element.classList.remove(CLASS_NAME_SHOW)\n    this._element.setAttribute('aria-expanded', 'false')\n    Manipulator.removeDataAttribute(this._menu, 'placement')\n    Manipulator.removeDataAttribute(this._menu, 'display')\n    EventHandler.trigger(this._element, EVENT_HIDDEN, relatedTarget)\n  }\n\n  _getConfig(config) {\n    config = super._getConfig(config)\n\n    if (typeof config.reference === 'object' && !isElement(config.reference) &&\n      typeof config.reference.getBoundingClientRect !== 'function'\n    ) {\n      // Floating UI virtual elements require a getBoundingClientRect method\n      throw new TypeError(`${NAME.toUpperCase()}: Option \"reference\" provided type \"object\" without a required \"getBoundingClientRect\" method.`)\n    }\n\n    return config\n  }\n\n  _createFloating() {\n    if (this._config.display === 'static') {\n      Manipulator.setDataAttribute(this._menu, 'display', 'static')\n      return\n    }\n\n    let referenceElement = this._element\n\n    if (this._config.reference === 'parent') {\n      referenceElement = this._parent\n    } else if (isElement(this._config.reference)) {\n      referenceElement = getElement(this._config.reference)\n    } else if (typeof this._config.reference === 'object') {\n      referenceElement = this._config.reference\n    }\n\n    // Initial position update\n    this._updateFloatingPosition(referenceElement)\n\n    // Set up auto-update for scroll/resize\n    this._floatingCleanup = autoUpdate(\n      referenceElement,\n      this._menu,\n      () => this._updateFloatingPosition(referenceElement)\n    )\n  }\n\n  async _updateFloatingPosition(referenceElement = null) {\n    // Check if menu exists and is still in the DOM\n    if (!this._menu || !this._menu.isConnected) {\n      return\n    }\n\n    if (!referenceElement) {\n      if (this._config.reference === 'parent') {\n        referenceElement = this._parent\n      } else if (isElement(this._config.reference)) {\n        referenceElement = getElement(this._config.reference)\n      } else if (typeof this._config.reference === 'object') {\n        referenceElement = this._config.reference\n      } else {\n        referenceElement = this._element\n      }\n    }\n\n    const placement = this._getPlacement()\n    const middleware = this._getFloatingMiddleware()\n    const floatingConfig = this._getFloatingConfig(placement, middleware)\n\n    const { x, y, placement: finalPlacement } = await computePosition(\n      referenceElement,\n      this._menu,\n      floatingConfig\n    )\n\n    // Menu may have been disposed during the async computePosition call\n    if (!this._menu || !this._menu.isConnected) {\n      return\n    }\n\n    // Apply position to dropdown menu\n    Object.assign(this._menu.style, {\n      position: 'absolute',\n      left: `${x}px`,\n      top: `${y}px`,\n      margin: '0'\n    })\n\n    // Set placement attribute for CSS styling\n    Manipulator.setDataAttribute(this._menu, 'placement', finalPlacement)\n  }\n\n  _isShown() {\n    return this._menu.classList.contains(CLASS_NAME_SHOW)\n  }\n\n  _getPlacement() {\n    // If we have responsive placements, find the appropriate one for current viewport\n    if (this._responsivePlacements) {\n      return getResponsivePlacement(this._responsivePlacements, DEFAULT_PLACEMENT)\n    }\n\n    return this._config.placement\n  }\n\n  _parseResponsivePlacements() {\n    this._responsivePlacements = parseResponsivePlacement(this._config.placement, DEFAULT_PLACEMENT)\n\n    if (this._responsivePlacements) {\n      this._setupMediaQueryListeners()\n    }\n  }\n\n  _setupMediaQueryListeners() {\n    this._disposeMediaQueryListeners()\n    this._mediaQueryListeners = createBreakpointListeners(() => {\n      if (this._isShown()) {\n        this._updateFloatingPosition()\n      }\n    })\n  }\n\n  _disposeMediaQueryListeners() {\n    disposeBreakpointListeners(this._mediaQueryListeners)\n    this._mediaQueryListeners = []\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(value => Number.parseInt(value, 10))\n    }\n\n    if (typeof offset === 'function') {\n      // Floating UI passes different args, adapt the interface for offset function callbacks\n      return ({ placement, rects }) => {\n        const result = offset({ placement, reference: rects.reference, floating: rects.floating }, this._element)\n        return result\n      }\n    }\n\n    return offset\n  }\n\n  _getFloatingMiddleware() {\n    const offsetValue = this._getOffset()\n\n    const middleware = [\n      // Offset middleware - handles distance from reference\n      offset(\n        typeof offsetValue === 'function' ?\n          offsetValue :\n          { mainAxis: offsetValue[1] || 0, crossAxis: offsetValue[0] || 0 }\n      ),\n      // Flip middleware - handles fallback placements\n      flip({\n        fallbackPlacements: this._getFallbackPlacements()\n      }),\n      // Shift middleware - prevents overflow\n      shift({\n        boundary: this._config.boundary === 'clippingParents' ? 'clippingAncestors' : this._config.boundary\n      })\n    ]\n\n    return middleware\n  }\n\n  _getFallbackPlacements() {\n    // Get appropriate fallback placements based on current placement\n    // Fallbacks should preserve alignment (start/end) when possible\n    const placement = this._getPlacement()\n\n    // Handle all possible Floating UI placements\n    const fallbackMap = {\n      bottom: ['top', 'bottom-start', 'bottom-end', 'top-start', 'top-end'],\n      'bottom-start': ['top-start', 'bottom-end', 'top-end'],\n      'bottom-end': ['top-end', 'bottom-start', 'top-start'],\n      top: ['bottom', 'top-start', 'top-end', 'bottom-start', 'bottom-end'],\n      'top-start': ['bottom-start', 'top-end', 'bottom-end'],\n      'top-end': ['bottom-end', 'top-start', 'bottom-start'],\n      right: ['left', 'right-start', 'right-end', 'left-start', 'left-end'],\n      'right-start': ['left-start', 'right-end', 'left-end', 'top-start', 'bottom-start'],\n      'right-end': ['left-end', 'right-start', 'left-start', 'top-end', 'bottom-end'],\n      left: ['right', 'left-start', 'left-end', 'right-start', 'right-end'],\n      'left-start': ['right-start', 'left-end', 'right-end', 'top-start', 'bottom-start'],\n      'left-end': ['right-end', 'left-start', 'right-start', 'top-end', 'bottom-end']\n    }\n\n    return fallbackMap[placement] || ['top', 'bottom', 'right', 'left']\n  }\n\n  _getFloatingConfig(placement, middleware) {\n    const defaultConfig = {\n      placement,\n      middleware\n    }\n\n    return {\n      ...defaultConfig,\n      ...execute(this._config.floatingConfig, [undefined, defaultConfig])\n    }\n  }\n\n  _disposeFloating() {\n    if (this._floatingCleanup) {\n      this._floatingCleanup()\n      this._floatingCleanup = null\n    }\n  }\n\n  _selectMenuItem({ key, target }) {\n    const items = SelectorEngine.find(SELECTOR_VISIBLE_ITEMS, this._menu).filter(element => isVisible(element))\n\n    if (!items.length) {\n      return\n    }\n\n    // if target isn't included in items (e.g. when expanding the dropdown)\n    // allow cycling to get the last item in case key equals ARROW_UP_KEY\n    getNextActiveElement(items, target, key === ARROW_DOWN_KEY, !items.includes(target)).focus()\n  }\n\n  static clearMenus(event) {\n    if (event.button === RIGHT_MOUSE_BUTTON || (event.type === 'keyup' && event.key !== TAB_KEY)) {\n      return\n    }\n\n    const openToggles = SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN)\n\n    for (const toggle of openToggles) {\n      const context = Dropdown.getInstance(toggle)\n      if (!context || context._config.autoClose === false) {\n        continue\n      }\n\n      const composedPath = event.composedPath()\n      const isMenuTarget = composedPath.includes(context._menu)\n      if (\n        composedPath.includes(context._element) ||\n        (context._config.autoClose === 'inside' && !isMenuTarget) ||\n        (context._config.autoClose === 'outside' && isMenuTarget)\n      ) {\n        continue\n      }\n\n      // Tab navigation through the dropdown menu or events from contained inputs shouldn't close the menu\n      if (context._menu.contains(event.target) && ((event.type === 'keyup' && event.key === TAB_KEY) || /input|select|option|textarea|form/i.test(event.target.tagName))) {\n        continue\n      }\n\n      const relatedTarget = { relatedTarget: context._element }\n\n      if (event.type === 'click') {\n        relatedTarget.clickEvent = event\n      }\n\n      context._completeHide(relatedTarget)\n    }\n  }\n\n  static dataApiKeydownHandler(event) {\n    // If not an UP | DOWN | ESCAPE key => not a dropdown command\n    // If input/textarea && if key is other than ESCAPE => not a dropdown command\n\n    const isInput = /input|textarea/i.test(event.target.tagName)\n    const isEscapeEvent = event.key === ESCAPE_KEY\n    const isUpOrDownEvent = [ARROW_UP_KEY, ARROW_DOWN_KEY].includes(event.key)\n\n    if (!isUpOrDownEvent && !isEscapeEvent) {\n      return\n    }\n\n    if (isInput && !isEscapeEvent) {\n      return\n    }\n\n    event.preventDefault()\n\n    // TODO: v6 revert #37011 & change markup https://getbootstrap.com/docs/5.3/forms/input-group/\n    const getToggleButton = this.matches(SELECTOR_DATA_TOGGLE) ?\n      this :\n      (SelectorEngine.prev(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.next(this, SELECTOR_DATA_TOGGLE)[0] ||\n        SelectorEngine.findOne(SELECTOR_DATA_TOGGLE, event.delegateTarget.parentNode))\n\n    const instance = Dropdown.getOrCreateInstance(getToggleButton)\n\n    if (isUpOrDownEvent) {\n      event.stopPropagation()\n      instance.show()\n      instance._selectMenuItem(event)\n      return\n    }\n\n    if (instance._isShown()) { // else is escape and we check if it is shown\n      event.stopPropagation()\n      instance.hide()\n      getToggleButton.focus()\n    }\n  }\n}\n\n/**\n * Data API implementation\n */\n\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown.dataApiKeydownHandler)\nEventHandler.on(document, EVENT_CLICK_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_KEYUP_DATA_API, Dropdown.clearMenus)\nEventHandler.on(document, EVENT_CLICK_DATA_API, SELECTOR_DATA_TOGGLE, function (event) {\n  event.preventDefault()\n  Dropdown.getOrCreateInstance(this).toggle()\n})\n\nexport default Dropdown\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DATA_API_KEY","ESCAPE_KEY","TAB_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","RIGHT_MOUSE_BUTTON","EVENT_HIDE","EVENT_HIDDEN","EVENT_SHOW","EVENT_SHOWN","EVENT_CLICK_DATA_API","EVENT_KEYDOWN_DATA_API","EVENT_KEYUP_DATA_API","CLASS_NAME_SHOW","SELECTOR_DATA_TOGGLE","SELECTOR_DATA_TOGGLE_SHOWN","SELECTOR_MENU","SELECTOR_NAVBAR_NAV","SELECTOR_VISIBLE_ITEMS","DEFAULT_PLACEMENT","isRTL","Default","autoClose","boundary","display","offset","floatingConfig","placement","reference","DefaultType","Dropdown","BaseComponent","constructor","element","config","computePosition","TypeError","_floatingCleanup","_mediaQueryListeners","_responsivePlacements","_parent","_element","parentNode","_menu","SelectorEngine","next","prev","findOne","_parseResponsivePlacements","toggle","_isShown","hide","show","isDisabled","relatedTarget","showEvent","EventHandler","trigger","defaultPrevented","_createFloating","document","documentElement","closest","concat","body","children","on","noop","focus","setAttribute","classList","add","_completeHide","dispose","_disposeFloating","_disposeMediaQueryListeners","update","_updateFloatingPosition","hideEvent","off","remove","Manipulator","removeDataAttribute","_getConfig","isElement","getBoundingClientRect","toUpperCase","_config","setDataAttribute","referenceElement","getElement","autoUpdate","isConnected","_getPlacement","middleware","_getFloatingMiddleware","_getFloatingConfig","x","y","finalPlacement","Object","assign","style","position","left","top","margin","contains","getResponsivePlacement","parseResponsivePlacement","_setupMediaQueryListeners","createBreakpointListeners","disposeBreakpointListeners","_getOffset","split","map","value","Number","parseInt","rects","result","floating","offsetValue","mainAxis","crossAxis","flip","fallbackPlacements","_getFallbackPlacements","shift","fallbackMap","bottom","right","defaultConfig","execute","undefined","_selectMenuItem","key","target","items","find","filter","isVisible","length","getNextActiveElement","includes","clearMenus","event","button","type","openToggles","context","getInstance","composedPath","isMenuTarget","test","tagName","clickEvent","dataApiKeydownHandler","isInput","isEscapeEvent","isUpOrDownEvent","preventDefault","getToggleButton","matches","delegateTarget","instance","getOrCreateInstance","stopPropagation"],"mappings":"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"}