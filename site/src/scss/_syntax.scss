@use "sass:color";
@use "../../../scss/config" as *;
@use "../../../scss/colors" as *;
@use "../../../scss/variables" as *;
@use "../../../scss/mixins/color-mode" as *;

// Shell prompt colors for light mode
:root,
[data-bs-theme="light"] {
  --shell-prompt-color: #565c64;
}

// Shell prompt colors for dark mode
@include color-mode(dark, true) {
  --shell-prompt-color: #868e96;
}

.shiki {
  background-color: transparent !important; // stylelint-disable-line declaration-no-important
}

// Shiki dual-theme support
// Light mode: use default inline styles (no override needed)
// Dark mode: override to use the dark theme CSS variables
@include color-mode(dark, true) {
  .shiki,
  .shiki span {
    color: var(--shiki-dark) !important; // stylelint-disable-line declaration-no-important
  }
}

// Shell prompts - these work with Shiki's transformer that adds .line class
@layer custom {
  .language-bash .line::before,
  .language-sh .line::before {
    display: inline-block;
    color: var(--shell-prompt-color);
    content: "$ ";
    user-select: none;
  }

  .language-powershell .line::before {
    display: inline-block;
    color: var(--shell-prompt-color);
    content: "PM> ";
    user-select: none;
  }
}
